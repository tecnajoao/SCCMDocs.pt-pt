---
title: "Настройка параметров | Документация Майкрософт"
description: "Настройка параметров для System Center Updates Publisher"
ms.custom: na
ms.date: 4/29/2017
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology: configmgr-other
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 4e620080-5400-45bb-87c2-fbdbc8aeacac
caps.latest.revision: "1"
author: Brenduns
ms.author: brenduns
manager: angrobe
robots: NOINDEX, NOFOLLOW
ms.openlocfilehash: b66ed0a5e1c87d8c82853da86e3d55b0e2c043bb
ms.sourcegitcommit: 51fc48fb023f1e8d995c6c4eacfda7dbec4d0b2f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2017
---
# <a name="configure-options-for-updates-publisher"></a>Настройка параметров для Updates Publisher

*Область применения: System Center Updates Publisher*

Просматривайте и задавайте параметры, влияющие на работу Updates Publisher.

Для доступа к параметрам Updates Publisher в левом верхнем углу консоли щелкните вкладку **Свойства** **Updates Publisher**, а затем выберите **Параметры**.

![Параметры](media/properties1.png)   


Параметры делятся на следующие:

-   Обновление сервера
-   Сервер ConfigMgr
-   Параметры прокси
-   доверенные издатели;
-   Дополнительно
-   Обновления
-   Ведение журнала

## <a name="update-server"></a>Обновление сервера
Прежде чем [публиковать обновления](/sccm/sum/tools/manage-updates-with-updates-publisher#publish-updates-and-bundles), вы должны настроить Updates Publisher для работы с сервером обновлений, например Windows Server Update Services (WSUS). Вам нужно указать сервер, способы подключения к этому серверу, если он расположен удаленно относительно консоли, и сертификат для цифровой подписи публикуемых обновлений.

-   **Настройка сервера обновлений.** При настройке сервера обновлений выберите сервер WSUS верхнего уровня (сервер обновлений) в иерархии Configuration Manager, чтобы все дочерние сайты имели доступ к публикуемым обновлениям.

  Если сервер обновления расположен удаленно от сервера Updates Publisher, для подключения по протоколу SSL укажите полное доменное имя (FQDN) сервера. При подключении по протоколу SSL порт по умолчанию меняется с 8530 на 8531. Убедитесь, что установленный вами порт соответствует тому, который использует ваш сервер обновления.

    > [!TIP]  
    > Если сервер обновления не задан, вы по-прежнему можете использовать Updates Publisher для создания обновлений программного обеспечения.

-   **Настройка сертификата для подписи.** Перед настройкой сертификата для подписи вы должны настроить сервер обновлений и успешно подключиться к нему.

    Updates Publisher использует сертификат для подписи, чтобы подписывать обновления программного обеспечения, публикуемые на сервере обновлений. Публикацию не удастся выполнить, если цифрового сертификата нет в хранилище сертификатов сервера обновлений или на компьютере, на котором выполняется Updates Publisher.

    Дополнительные сведения о добавлении сертификата в хранилище сертификатов см. в статье о [сертификатах и безопасности в Updates Publisher](/sccm/sum/tools/updates-publisher-security).

    Если цифровой сертификат не обнаружен автоматически для сервера обновлений, выберите один из следующих вариантов:

    -   **Обзор.** Обзор доступен только при установке сервера обновления на сервере, на котором выполняется консоль. Выбрав сертификат, щелкните **Создать**, чтобы добавить сертификат в хранилище сертификатов WSUS на сервере обновлений. Для сертификатов, выбранных таким способом, нужно ввести пароль в файле типа **PFX**.

    -   **Создать.** Используйте этот параметр, чтобы создать сертификат. При этом сертификат будет также добавлен в хранилище сертификатов WSUS на сервере обновлений.

    **При создании собственного сертификата для подписи** настройте следующие значения:

    -   Включите параметр **Разрешить экспортировать закрытый ключ**.

    -   Задайте в качестве значения параметра **Использование ключа** цифровую подпись.

    -   Задайте **минимальный размер ключа** более 2048 бит.

    Используйте параметр **Удалить**, чтобы удалить сертификат из хранилища сертификатов служб WSUS. Этот параметр доступен, когда сервер обновления является локальным для используемой консоли Updates Publisher или при подключении к удаленному серверу обновления по протоколу **SSL**.

## <a name="configmgr-server"></a>Сервер ConfigMgr
Применяйте эти параметры при использовании Configuration Manager с Updates Publisher.

-   **Указание сервера Configuration Manager.** Включив поддержку Configuration Manager, укажите расположение сервера сайта верхнего уровня в иерархии Configuration Manager. Если этот сервер расположен удаленно от установки Updates Publisher, укажите полное доменное имя сервера сайта. Выберите **Проверить подключение**, чтобы убедиться, что вы можете подключиться к серверу сайта.

-   **Настройка пороговых значений.** Пороговые значения используются при публикации обновлений с типом публикации автоматически. Пороговые значения помогают определить, когда опубликовано все содержимое обновления, а не только метаданные. Дополнительные сведения о типах публикаций см. в разделе [Назначение обновлений публикации](/sccm/sum/tools/manage-updates-with-updates-publisher#assign-updates-and-bundles-to-a-publication).

    Вы можете включить один или оба набора пороговых значений, приведенных ниже:

    -   **Пороговое значение запрашиваемых клиентов** — определяет, сколько клиентов должны запросить обновление, прежде чем Updates Publisher сможет автоматически публиковать полный набор содержимого этого обновления. Пока указанное число клиентов не запросят обновление, публикуются только метаданные обновлений.

    -   **Пороговое значение размера исходного пакета (МБ)** — предотвращает автоматическую публикацию обновлений, которые превышают заданный размер. Если размер обновления превышает это значение, то публикуются только метаданные. Обновления, которые меньше указанного размера, могут публиковаться с полным содержимым.

## <a name="proxy-settings"></a>Параметры прокси
Updates Publisher использует параметры прокси-сервера при импорте каталогов программного обеспечения из Интернета и для публикации обновлений в Интернете.

-   Укажите полное доменное имя или IP-адрес прокси-сервера. Поддерживаются форматы IPv4 и IPv6.

-   Если прокси-сервер выполняет проверку подлинности пользователей для доступа к Интернету, необходимо указать имя Windows. Имя участника-пользователя (UPN) не поддерживается.

## <a name="trusted-publishers"></a>доверенные издатели;
При импорте каталога обновлений источник этого каталога (на основе его сертификата) добавляется в качестве надежного издателя. Аналогично при публикации обновления источник обновления сертификата добавляется как надежный издатель.

Вы можете просмотреть сведения о сертификате для каждого издателя и удаленного издателя из списка надежных издателей.

Содержимое от ненадежных издателей может повредить клиентские компьютеры при проверке обновлений. Принимайте обновления только от тех издателей, которым вы доверяете.

## <a name="advanced"></a>Дополнительно
Дополнительные параметры включают следующее:

-   **Расположение репозитория.** Просматривайте и изменяйте расположение файла базы данных **scupdb.sdf**. Этот файл является репозиторием для Updates Publisher.

-   **Метка времени.** Когда этот параметр включен, к подписанным обновлениям добавляется метка времени, определяющая, когда они были подписаны. Обновление, подписанное с использованием действительного сертификата, можно использовать после истечения срока действия этого сертификата для подписи. По умолчанию обновления программного обеспечения невозможно развернуть после истечения срока действия их сертификата для подписи.

-   **Проверка обновлений в каталогах подписки.** При каждом запуске Updates Publisher автоматически проверяет наличие обновлений для каталогов, на которые вы подписались. При обнаружении обновления каталога сведения предоставляются в виде **недавних оповещений** в окне **Обзор** **рабочей области "Обновления"**.

-   **Отзыв сертификата.** Выберите этот параметр, чтобы включить проверку отзыва сертификатов.

-   **Публикация локального источника.** Updates Publisher может использовать локальную копию публикуемого обновления, прежде чем скачать это обновление из Интернета. Эта папка должна быть расположена на компьютере, на котором выполняется Updates Publisher. По умолчанию — это расположение **Мои документы\LocalSourcePublishing**. Этот параметр используется, если ранее было скачано одно или несколько обновлений или были внесены изменения в обновление, которое вы хотите развернуть.

-   **Мастер очистки обновлений программного обеспечения.** Запускает мастер очистки обновлений. Мастер завершает срок действия обновлений на сервере обновлений, но не в репозитории Updates Publisher. Дополнительные сведения см. в разделе об [истечении срока действия обновлений без ссылок](#expire-unreferenced-software-updates).

## <a name="updates"></a>Обновления
 При каждом открытии Updates Publisher автоматически проверяет наличие новых обновлений. Вы также можете зарегистрироваться на получение предварительных версий Updates Publisher.

Чтобы вручную проверить наличие обновлений в консоли Updates Publisher, щелкните ![Свойства](media/properties2.png)  
для открытия **Свойств Updates Publisher** и щелкните **Проверить на наличие обновлений**.

После того как Updates Publisher найдет новое обновление, появится окно **Update Available** (Доступно обновление), а затем вы сможете установить это обновление. Если вы решили не устанавливать обновление, его повторно предложат установить при следующем открытии консоли.

## <a name="logging"></a>Ведение журнала
Основные сведения о Updates Publisher из журналов Updates Publisher в файле **&lt;*путь*&gt;\Windows\Temp\UpdatesPublisher.log**.

Используйте Блокнот или **CMTrace** для просмотра журнала. CMTrace — это инструмент файла журнала Configuration Manager, который можно найти в папке **\SMSSetup\Tools** на исходном носителе Configuration Manager.

Вы можете изменить размер журнала и его уровень детализации.

При включении ведения журнала базы данных в него включается информация о запросах, запускаемых в базе данных Updates Publisher. При ведении журналов базы данных производительность компьютера с Updates Publisher может снизиться.

Для просмотра файла журнала в консоли щелкните ![Свойства](media/properties2.png), чтобы открыть окно **свойств Updates Publisher**, и выберите **Просмотр файла журнала**.

## <a name="expire-unreferenced-software-updates"></a>Завершение срока действия обновлений программного обеспечения без ссылок
Вы можете запустить **мастер очистки программного обеспечения**, чтобы просрочить обновления, которые находятся на вашем сервере обновлений, но не в репозитории Updates Publisher. Configuration Manager получает уведомление и удаляет эти обновления из любых развертываний в будущем.

Действие завершения срока действия обновления необратимо. Делайте это, только если вы уверены, что выбранные вами обновления программного обеспечения больше не требуются вашей организации.

### <a name="to-remove-expired-software-updates"></a>Удаление просроченных обновлений программного обеспечения
1.  В консоли Updates Publisher щелкните ![Свойства](media/properties2.png), чтобы открыть окно **свойств Updates Publisher**, и выберите **Просмотр файла журнала**.

2.  Выберите **Дополнительно**, а затем в разделе **Software Update Clean Wizard** (Мастер очистки обновлений программного обеспечения) выберите **Запустить**.

3.  Выберите обновления программного обеспечения, срок действия которых нужно завершить, а затем нажмите кнопку **Далее**.

4.  Просмотрев выбранные параметры, нажмите кнопку **Далее**, чтобы подтвердить их и завершить срок действия этих обновлений.

5.  По окончании работы мастера выберите **Закрыть**, чтобы завершить его работу.
