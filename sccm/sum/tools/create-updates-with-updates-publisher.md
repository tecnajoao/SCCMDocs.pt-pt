---
title: "Создание обновлений | Документация Майкрософт"
description: "Создавайте обновления программного обеспечения и объединяйте их в пакеты с помощью System Center Updates Publisher"
ms.custom: na
ms.date: 4/29/2017
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology: configmgr-other
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 46a1a8ac-126c-4ee6-ae09-32dfbdb83368
caps.latest.revision: "1"
author: Brenduns
ms.author: brenduns
manager: angrobe
robots: NOINDEX, NOFOLLOW
ms.openlocfilehash: 98e490d7f5ca17dcf2a0aaa848f14e789f214123
ms.sourcegitcommit: 51fc48fb023f1e8d995c6c4eacfda7dbec4d0b2f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2017
---
# <a name="create--software-updates-and-update-bundles-with-updates-publisher"></a>Создание обновлений программного обеспечения и пакетов обновлений с помощью Updates Publisher

*Область применения: System Center Updates Publisher*

С Updates Publisher вы можете использовать мастер **создания обновлений**, чтобы создавать собственные обновления, а также мастер **создания пакетов**, чтобы создавать пакеты обновлений.

Так как эти два мастера имеют сходный рабочий процесс, процедура создания и обновления пакета связана с процедурой создания обновлений с некоторыми незначительными отличиями.

## <a name="use-the-create-update-wizard"></a>Использование мастера создания обновлений
1.  Перейдите в консоли в **рабочую область "Обновления"** и на панели **Начало работы** на вкладке ленты **Домашняя страница** выберите **Update** (Обновление). Откроется мастер **создания обновлений**.

2.  На странице **Пакет** используйте приведенные ниже сведения, чтобы настроить обновление:

    -   Выберите **Обзор**, чтобы найти пакет обновления программного обеспечения, который вы будете использовать как источник пакета. Допустимые источники: MSI-файл, MSP-файл и EXE-файл. Средству Updates Publisher требуется доступ к имени файла для создания хэша файла. Затем хэш и имя файла используются в метаданных обновлений для создаваемого вами обновления.

    -   Укажите исходное расположение содержимого для этого обновления. Обычно это расположение, из которого будет скачан двоичный файл обновления во время публикации на сервере WSUS.  Если выбран параметр**Use a local source to publish software update content** (Использовать локальный источник для публикации содержимого обновления программного обеспечения), путь указывать необязательно.

        После публикации обновления на сервере WSUS средство Updates Publisher скачивает двоичные файлы для обновления из указанного расположения источника.  Если путь не указан, средство Updates Publisher будет искать [путь публикации локального источника](/sccm/sum/tools/updates-publisher-options#advanced) для двоичного файла обновления.

    -   Укажите **язык двоичных файлов** обновления программного обеспечения.

    -   Укажите **коды возврата с состоянием "Успех"** и **коды ожидания перезагрузки с состоянием "Успех"** для обновления. Укажите несколько кодов возврата через запятую. Вы можете использовать эти коды, чтобы определить успешное завершение установки обновления и необходимость перезагрузки.

        -   Файлы и пакеты установщика Windows (MSI- и MSP-файлы) задают эти значения автоматически. Изменить эти значения невозможно.

        -   Для обновлений с использованием EXE-файлов коды по умолчанию, определенные EXE-файлом, используются, если не были указаны коды возврата.

    -   Укажите любые аргументы командной строки, требуемые для установки обновления программного обеспечения.

        -   Файлы и пакеты установщика Windows (MSI- и MSP-файлы) задают эти значения автоматически. Для этих типов файлов аргументы должны быть указаны в формате **\[имя\]=\[значение\]**. Кроме того, все параметры, начинающиеся с символа **/** (как **/qn**), не поддерживаются для обновлений программного обеспечения с использованием MSI- или MSP-файлов.

        -   Для обновлений с использованием EXE-файлов можно применять любые аргументы.

3.  На странице **сведений** укажите информацию об обновлении. Эти подробности становятся доступными после публикации или экспорта обновления. К ним относятся локализованные свойства, например имя обновлений (название) и описание. Затем укажите общие сведения, например классификацию, поставщик, продукт, а также ресурсы, с помощью которых можно узнать дополнительные сведения об обновлении.

     __Локализованные свойства.__

    -   **Язык.** Выберите язык, а затем укажите название и описание. Затем вы можете выбрать дополнительные языки (еще раз). Каждый язык будет поддерживать собственное название и описание.

    -   **Название.** Введите имя обновления. Это имя будет отображаться в рабочей области "Обновления" в консоли Updates Publisher.

    -   **Описание.** Понятное описание обновления. Вы можете включить сведения о компонентах установки обновлений, а также описать, каким образом их можно использовать.

     **Классификация.** Ниже приведены общие описания для различных классификаций.

    -   **Обновление.** Обновление для уже установленного приложения или файла.

    -   **Критически важное.** Указывает широкодоступное обновление для решения конкретной проблемы и устранения критической ошибки, которая не относится к системе безопасности.

    -   **Пакет дополнительных компонентов.** Указывает новые компоненты продуктов, распространяемые вне рамок выпуска продукта и обычно входящие в последующий полный выпуск продукта.

    -   **Безопасность.** Указывает широкодоступное обновление для решения проблемы, связанной с системой безопасности конкретного продукта.

    -   **Накопительный пакет обновления.** Набор исправлений, объединенных в один пакет для более удобного развертывания. К таким исправлениям могут относиться обновления для системы безопасности, критические и обычные обновления и пр. Накопительный пакет обновления обычно предназначен для определенной области, например функций безопасности или продукта.

    -   **Пакет обновления.** Указывает накопительный набор исправлений, применяемых к приложению. К таким исправлениям могут относиться обновления для системы безопасности, критические и обычные обновления ПО и пр.

    -   **Средство.** Указывает служебную программу или функцию, которая помогает выполнять одну или несколько задач.

     -   **Драйвер.** Обновление для программного обеспечения драйвера.

    **Поставщик.** Указывает поставщик для обновления. Вы можете просмотреть раскрывающийся список, чтобы использовать значения из обновлений, находящихся в репозитории. Когда вы указываете поставщик, мастер создает папку с этим именем поставщика в разделе **Все обновления программного обеспечения** в **рабочей области "Обновления"** в случае, если эта папка не была создана ранее. Ниже приведены зарезервированные имена службы Windows Server Update Services (WSUS), которые нельзя ввести для создаваемых вами обновлений:
 >*   Microsoft Corporation
 >*   Microsoft
 >*   Обновление
 >*   Обновление программного обеспечения
 >*   Средства
 >*   Средство
 >*   Критические важное
 >*   Критические обновления
 >*   Безопасность
 >*   Обновления безопасности
 >*   Пакет дополнительных компонентов
 >*   Накопительный пакет обновления
 >*   Пакет обновления
 >*   Драйвер
 >*   Обновление драйвера
 >*   Пакет
 >*   Пакет обновления

**Продукт.** Указывает тип продукта, для которого будет использоваться обновление. Вы можете просмотреть раскрывающийся список, чтобы использовать значения из обновлений, находящихся в репозитории. Список зарезервированных имен WSUS, которые нельзя использовать для **поставщика**, нельзя использовать и для **продукта**.

 **Дополнительные сведения об URL-адресе.** Указывает URL-адрес, где вы можете найти дополнительные сведения об обновлении. При вводе этого URL-адреса необходимо использовать строчные буквы для **https** или **http**.

4.  На странице **необязательных сведений** вы можете настроить дополнительные сведения об обновлении.

    -   **ИД бюллетеня.** Идентификаторы бюллетеня обычно (но не всегда) указываются поставщиками обновлений.

    -   **Идентификатор статьи.** В случае, если доступна статья об обновлении программного обеспечения, идентификатор статьи может оказаться полезным для пользователей, которые ищут дополнительные сведения об обновлении.

    -   **Идентификаторы CVE.** Перечисляется один или несколько идентификаторов общих уязвимостей, которые предоставляют сведения о безопасности обновления или пакета обновлений. В случае, если таких идентификаторов несколько, используйте в качестве разделителя между ними точку с запятой, как в этом примере: *CVE1;CVE2.*

    -   **URL-адрес поддержки.** Предоставляет URL-адрес, содержащий дополнительные сведения о поддержке для этого обновления, если такие сведения доступны. При вводе этого URL-адреса необходимо использовать строчные буквы для **https** или **http**.

    -   **Уровень серьезности.** Задает уровень серьезности для этого обновления.

    -   **Влияние.** Чтобы определить влияние, используются следующие параметры:
        -   **Обычный** — чтобы указать, что это обновление требует стандартных процедур по установке.
        -   **Незначительный** — чтобы указать, что это обновление требует минимальных процедур по установке.
        -   **Требует исключительной обработки** — чтобы указать, что обновление должно устанавливаться автономно, независимо от других обновлений.   <br /><br />

    -   **Режим перезапуска** — чтобы предоставить сведения о режиме перезапуска обновлений. Этот параметр не влияет на фактический режим установки обновления.

        -   **Без перезагрузки** — после установки обновлений программного обеспечения компьютер не требует перезагрузки.
        -   **С перезагрузкой** — после установки обновлений программного обеспечения требуется перезагрузка компьютера.
        -   **Перезагрузка по запросу** — после установки обновлений программного обеспечения компьютер запрашивает разрешение на перезагрузку только при необходимости. У пользователя есть возможность отложить перезагрузку. Это значение используется по умолчанию. <br /><br />

5.  На странице **необходимых компонентов** укажите необходимые условия, которые нужно выполнить перед установкой обновления. Необходимые компоненты могут быть **детектоидами** или другими обновлениями. Наборы Detectoid — это высокоуровневые правила, например правила, требующие 64-разрядный ЦП. Наборы Detectoid также могут указывать обновления, которые необходимо установить перед установкой определенного обновления.

    -   Для повышения производительности используйте наборы Detectoid вместо создания *устанавливаемых* и *установленных правил*, которые выполняют те же проверки или действия.

    Используйте параметр поиска для **доступных обновлений программного обеспечения и детектоидов**, чтобы найти определенные обновления или детектоиды. Например, выполните поиск **ЦП**, чтобы найти наборы Detectoid, которые позволят ограничить установку на основе определенной архитектуры ЦП.

    Вы можете выбрать один или несколько элементов одновременно, чтобы добавить их в качестве необходимых компонентов. При добавлении необходимых компонентов выбранные наборы Detectoid добавляются в качестве одной или нескольких групп. Для установки компьютер должен соответствовать требованиям как минимум одного участника в каждой настраиваемой группе:

 -   Когда вы выберете **Add Prerequisite** (Добавить предварительные компоненты), все выбранные элементы будут добавлены в отдельные группы. В соответствии с требованиями для этого обновления нужно выполнить предварительные требования в этой группе, а также требования для любой отдельно настроенной дополнительной группы.

 -   Когда вы выберете **Add Group** (Добавить группу), все выбранные элементы будут добавлены в одну группу. В соответствии с требованиями для этого обновления нужно выполнить хотя бы одно предварительное требование в этой группе, а также требования для любой отдельно настроенной дополнительной группы.

6.  На странице **Замена** укажите обновления, которые заменены данным обновлением. После публикации этого обновления Configuration Manager отметит каждое обновление, которое было заменено, как **просроченное**. Затем клиенты могут установить это обновление вместо замененных обновлений.

7.  На странице **Применимость** используйте **редактор правила**, чтобы определить набор правил, определяющих необходимость обновления для устройства. (Эта страница подобна странице **Установлено**, которая следует за страницей, указанной выше.)

    Чтобы добавить новое правило, щелкните !["Новое правило"](media/newrule.png). Откроется страница правил применимости, на которой можно настроить правила.

    Типы правил, которые можно создать, включают следующие:

    -   **Файл.** Используйте это правило, чтобы указать, что устройство содержит файл со свойствами, которые соответствуют одному или нескольким указанным требованиям, прежде чем установить данное обновление.

    -   **Реестр.** Используйте этот тип, чтобы указать сведения о реестре, которые необходимы для установки обновления на устройстве.

    -   **Система.** Это правило использует сведения о системе, чтобы определить применимость. Вы можете выбрать между определением версии Windows, языка Windows или архитектуры процессора или указать запрос WMI, чтобы определить тип операционной системы устройства.

    -   **Установщик Windows.** Используйте этот тип правила, чтобы определить применимость на основе установленного MSI-файла или исправления установщика Windows (для MSP-файлов). Вы также можете определить, нужно ли в соответствии с некоторыми требованиями устанавливать конкретные компоненты или функции.

        > [!IMPORTANT]  
        > На управляемых устройствах агент обновления Windows не может найти пакеты установки Windows, установленные для отдельных пользователей. При использовании этого типа правил настройте дополнительные правила применимости, например версии файлов или значения разделов реестра, чтобы пакет установщика Windows был обнаружен независимо от типа установки (для отдельного пользователя или для системы).

    -   **Сохраненное правило.** Этот параметр позволяет находить и использовать правила, которые вы *создали в рабочей области правил*.

        После создания правила вы можете использовать другие значки, чтобы изменить его, а в случае нескольких правил — определить связи между ними.

    Создав и добавив правила, нажмите кнопку **ОК** в диалоговом окне **создания набора правил**, чтобы сохранить этот набор. Затем вы можете **создать** правило и также добавить его в набор.

    Если в обновление нужно добавить несколько правил или наборов правил, вы можете использовать логические операторы в **редакторе правил**, чтобы определить условия между ними, а также порядок их обработки.

8.  На странице **Установлено** используйте **редактор правил**, чтобы указать набор правил, которые определяют, установлено ли настраиваемое вами обновление на устройстве. (Эта страница подобна странице **Применимость**, которая следует за этой страницей.)

    На этой странице мастера можно настроить правила, используя те же параметры и критерии, что и на странице **Применимость**.

    По завершении работы мастера новое обновление добавляется в узел в **рабочей области обновлений**. Она определяется по имени **поставщика** и **продукта**, используемых для этого обновления.

## <a name="use-the-create-bundle-wizard"></a>Использование мастера создания пакетов
Так как этот мастер использует тот же рабочий процесс, что и [мастер создания обновлений](#use-the-create-update-wizard), вы можете использовать этот рабочий процесс с учетом некоторых различий для пакетов.

1.  Чтобы запустить мастер, перейдите в консоли в **рабочую область "Обновления"**, а затем на вкладке ленты **Домашняя страница** выберите **Пакет**.

2.  В отличие от мастера создания обновлений здесь при создании пакета страница пакета отсутствует.

3.  На странице **сведений** укажите информацию о пакете обновлений. Эти подробности становятся доступными после публикации или экспорта обновления.

4.  На странице **необязательных сведений** вы можете настроить дополнительные сведения о пакете обновлений. Доступные параметры не отличаются от параметров, использующихся для создания обновления. Однако параметры влияния и режима перезапуска недоступны, так как они неприменимы к пакетам.

5.  На странице **необходимых компонентов** укажите необходимые условия, которые нужно выполнить перед установкой пакета. Эти правила такие же, как и для отдельных обновлений.

6.  На странице **Замена** укажите обновления, которые заменены данным пакетом обновлений. Эти правила такие же, как и для отдельных обновлений.

7.  На странице **участников** выберите обновления, чтобы добавить их в пакет обновлений. Доступны только те обновления, которые вы создали или импортировали в Updates Publisher.

По завершении работы мастера новый пакет обновлений добавляется в узел в **рабочей области "Обновления"**, которая определяется по имени **поставщика**, используемого для этого пакета обновлений.
