---
title: Variáveis incorporadas de sequência de tarefas
titleSuffix: Configuration Manager
description: Variáveis incorporadas de sequência de tarefas fornecem informações sobre o ambiente em que a sequência de tarefas é executado e estão disponíveis durante a sequência de tarefas de todo.
ms.custom: na
ms.date: 04/18/2018
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology:
- configmgr-osd
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 02bc6bd4-ca53-4e22-8b80-d8ee5fe72567
caps.latest.revision: 15
caps.handback.revision: 0
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: fe26982195e7cae639cc457dbba31e3dbd45b6d3
ms.sourcegitcommit: e23350fe65ff99228274e465b24b5e163769f38f
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 04/20/2018
---
# <a name="task-sequence-built-in-variables-in-system-center-configuration-manager"></a>Variáveis incorporadas de sequência de tarefas no System Center Configuration Manager

*Aplica-se a: O System Center Configuration Manager (ramo atual)*


 Variáveis incorporadas de sequência de tarefas são fornecidas pelo System Center Configuration Manager. As variáveis incorporadas fornecem informações sobre o ambiente onde a sequência de tarefas é executada e os seus valores encontram-se disponíveis ao longo de toda a sequência de tarefas. Normalmente, as variáveis incorporadas são inicializadas antes de os passos serem executados na sequência de tarefas. Por exemplo, a variável incorporada **smstslogpath** é uma variável de ambiente que especifica o caminho que componentes do Configuration Manager utilizam para escrever ficheiros de registo. Qualquer passo de sequência de tarefas pode aceder a esta variável de ambiente. No entanto, a sequência de tarefas avalia algumas variáveis, tais como  **&#95;SMSTSCurrentActionName**, antes de cada passo. Os valores são só de leitura para variáveis incorporadas com um nome que comece com um caráter de sublinhado.  

## <a name="task-sequence-built-in-variable-list"></a>Lista de Variáveis Incorporadas de Sequência de Tarefas  
 A lista seguinte descreve as variáveis incorporadas que estão disponíveis no Configuration Manager:  

|Nome da Variável Incorporada|Descrição|  
|-----------------------------|-----------------|  
|_OSDDetectedWinDir|A sequência de tarefas analisa unidades de disco rígido do computador para uma instalação de sistema operativo anterior ao Windows PE é iniciado. A localização da pasta do Windows é armazenada nesta variável. Pode configurar a sequência de tarefas para obter este valor a partir do ambiente e utilizá-la para especificar a localização da pasta Windows utilizada para a nova instalação do sistema operativo.|  
|_OSDDetectedWinDrive|A sequência de tarefas analisa unidades de disco rígido do computador para uma instalação de sistema operativo anterior ao Windows PE é iniciado. A localização do disco rígido onde o sistema operativo é instalado é armazenada nesta variável. Pode configurar a sequência de tarefas para obter este valor a partir do ambiente e utilizá-la para especificar a localização do disco rígido utilizada para o novo sistema operativo.|  
|_SMSTSAdvertID|Armazena o ID exclusivo de implementação da sequência de tarefas atualmente em execução. Utiliza o mesmo formato como um ID de implementação de distribuição de software do Configuration Manager Se a sequência de tarefas for executada a partir de um suporte de dados autónomo, esta variável é indefinida.<br /><br /> Exemplo:<br /><br /> **ABC20001**|  
|_TSAppInstallStatus|A sequência de tarefas define a variável tsappinstallstatus com o estado da instalação da aplicação durante o [instalar aplicação](task-sequence-steps.md#BKMK_InstallApplication) passo. A sequência de tarefas define a variável com um dos seguintes valores:<br /><br /> 1. **Indefinido**: O passo instalar aplicação não foi executada.<br />2. **Erro**: Pelo menos uma aplicação falhou devido a um erro durante o passo instalar aplicação.<br />3. **Aviso**: Não ocorrerem erros durante o passo instalar aplicação. Uma ou mais aplicações, ou uma dependência necessária, não foi instalada porque não foi cumprido um requisito.<br />4. **Êxito**: Existem não existem erros ou avisos detetados durante o passo instalar aplicação.|  
|_SMSTSBootImageID|Se a sequência de tarefas em execução atual referenciar um pacote de imagem de arranque, esta variável armazena o ID de pacote de imagem do arranque. Se a sequência de tarefas não referencia um pacote de imagem de arranque, esta variável não está definida.<br /><br /> Exemplo:<br /><br /> **ABC00001**|  
|_SMSTSBootUEFI|A sequência de tarefas define a variável SMSTSBootUEFI sempre que deteta um computador que esteja no modo UEFI.|  
|_SMSTSClientGUID|Armazena o valor do GUID do cliente do Configuration Manager. Esta variável não é definida se a sequência de tarefas for executada a partir de um suporte de dados autónomo.<br /><br /> Exemplo:<br /><br /> **0a1a9a4b-fc56-44f6-b7cd-c3f8ee37c04c**|  
|_SMSTSCurrentActionName|Especifica o nome do passo da sequência de tarefas em execução atual. Esta variável é definida antes de o gestor da sequência de tarefas executar cada passo individual.<br /><br /> Exemplo:<br /><br /> **executar linha de comandos**|  
|_SMSTSDownloadOnDemand|Se a sequência de tarefas atual for executada no modo de transferência a pedido, esta variável é **verdadeiro**. Modo de transferência a pedido significa que o Gestor de sequência de tarefas transfere o conteúdo localmente, apenas quando precisa de aceder o conteúdo.|  
|_SMSTSInWinPE|Quando o passo de sequência de tarefas atual for executada no Windows PE, esta variável é **verdadeiro**. Teste esta variável de sequência de tarefas para determinar o ambiente de sistema operativo atual.|  
|_SMSTSLastActionRetCode|Armazena o código de retorno devolvido pela última ação executada. Esta variável pode ser utilizada como uma condição para determinar se o próximo passo é executado.<br /><br /> Exemplo:<br /><br /> **0**|  
|_SMSTSLastActionSucceeded|Se o último passo foi concluída com êxito, esta variável é **verdadeiro**. Se o último passo falhado, é **falso**. Se a sequência de tarefas ignorou a última ação, porque o passo está desativado ou a condição associada estava avaliada como **falso**, esta variável não é reposta. Que ainda retém o valor da ação anterior.|  
|_SMSTSLaunchMode|Especifica um dos seguintes métodos de início de sequência de tarefas:<br /><br /> -   **SMS**: a sequência de tarefas iniciado a partir do cliente do Configuration Manager<br />-   **Pen USB**: a sequência de tarefas iniciado a partir do suporte de dados USB legado<br />-   **Pen USB + formato**: a sequência de tarefas iniciado a partir do suporte de dados USB mais recente<br />-   **CD**: a sequência de tarefas é iniciada a partir de um CD<br />-   **DVD**: a sequência de tarefas iniciadas a partir de um DVD<br />-   **PXE**: a sequência de tarefas é iniciada a partir de PXE<br />-   **HD**: a sequência de tarefas iniciado a partir do suporte de dados pré-configurado num disco rígido|  
|_SMSTSLogPath|Armazena o caminho completo do diretório de registo. Utilize este valor para determinar onde as ações são registadas. Este valor não é definido quando o disco rígido não se encontra disponível.|  
|_SMSTSMachineName|Armazena e especifica o nome do computador. Armazena o nome do computador que a sequência de tarefas utiliza para registar todas as mensagens de estado. Para alterar o nome do computador no novo sistema operativo, utilize a variável **OSDComputerName** .<br /><br /> Exemplo:<br /><br /> **ABC**|  
|_SMSTSMDataPath|Especifica o caminho definido pela variável SMSTSLocalDataDrive. Ao definir SMSTSLocalDataDrive antes da sequência de tarefas ser iniciada, como, definindo uma variável de coleção do Configuration Manager, em seguida, define a variável smstsmdatapath assim que a sequência de tarefas for iniciada.|  
|_SMSTSMediaType|Especifica o tipo de suporte de dados utilizado para iniciar a instalação. Exemplos de tipos de suportes de dados: Suporte de Dados de Arranque, Suporte de Dados Completo, PXE e Suporte de Dados Pré-configurado.|  
|_SMSTSMP|Armazena o URL ou endereço IP de um ponto de gestão do Configuration Manager.|  
|_SMSTSMPPort|Armazena o número de porta do ponto de gestão de um ponto de gestão do Configuration Manager.<br /><br /> Exemplo:<br /><br /> **80**|  
|_SMSTSOrgName|Armazena o nome do título imagem corporativa que apresenta a sequência de tarefas na caixa de diálogo de progresso.<br /><br /> Exemplo:<br /><br /> **Organização XYZ**|  
|_SMSTSOSUpgradeActionReturnCode|Armazena o valor de código de saída que devolve a configuração do Windows para indicar o êxito ou falha. Esta variável é definida durante o [atualizar sistema operativo](task-sequence-steps.md#BKMK_UpgradeOS) passo de sequência de tarefas. Esta variável é útil com a opção da linha de comandos /Compat.<br /><br /> Exemplo:<br /><br /> Na conclusão de /Compat, tome em passos posteriores, consoante o código de saída de falha ou êxito. Com êxito, inicie a atualização. Ou, para definir um marcador no ambiente (por exemplo, adicione um ficheiro ou definir uma chave de registo) para recolher com o inventário de hardware. Utilize esta marcador para criar uma coleção de computadores que estão prontos para atualização ou que requerem uma ação antes da atualização.|  
|_SMSTSPackageID|Armazena o ID da sequência de tarefas atualmente em execução. Este ID utiliza o mesmo formato que um ID de pacote de software do Configuration Manager.<br /><br /> Exemplo:<br /><br /> **HJT00001**|  
|_SMSTSPackageName|Armazena o nome da sequência tarefas em execução atualmente especificado pelo administrador do Configuration Manager quando a sequência de tarefas é criada.<br /><br /> Exemplo:<br /><br /> **Implementar a sequência de tarefas do Windows 10**|  
|_SMSTSSetupRollback|Especifica se o programa de configuração do sistema operativo efetuou uma operação de reversão. Os valores das variáveis podem ser **verdadeiro** ou **falso**.|  
|_SMSTSRunFromDP|Definir como **verdadeiro** se a sequência de tarefas atual for executada no modo de execução a partir do ponto de distribuição, o que significa que o gestor da sequência de tarefas obtém partilhas de pacotes do ponto de distribuição.|  
|_SMSTSSiteCode|Armazena o código de site do site do Configuration Manager.<br /><br /> Exemplo:<br /><br /> **ABC**|  
|_SMSTSType|Especifica o tipo da sequência de tarefas atualmente em execução. Pode ter os seguintes valores:<br /><br /> **1** - indica uma sequência de tarefas genérica.<br /><br /> **2** - indica uma sequência de tarefas de implementação do sistema operativo.|  
|_SMSTSTimezone|A variável _SMSTSTimezone armazena as informações de fuso horário no seguinte formato (sem espaços):<br /><br /> Bias, StandardBias, DaylightBias, StandardDate.wYear, wMonth, wDayOfWeek, wDay, wHour, wMinute, wSecond, wMilliseconds, DaylightDate.wYear, wMonth, wDayOfWeek, wDay, wHour, wMinute, wSecond, wMilliseconds, StandardName, DaylightName<br /><br /> Exemplo:<br /><br /> Para a Hora do Leste E.U.A. e Canadá, o valor seria **300,0,-60,0,11,0,1,2,0,0,0,0,3,0,2,2,0,0,0,Hora Padrão do Leste,Hora de Verão do Leste**|  
|_SMSTSUseCRL|Quando a sequência de tarefas utiliza HTTPS para comunicar com o ponto de gestão, especifica se utiliza a lista de revogação de certificados (CRL).|  
|_SMSTSUserStarted|Especifica se uma sequência de tarefas é iniciada por um utilizador. Esta variável é definida apenas se a sequência de tarefas for iniciada a partir do Centro de Software. Por exemplo, se **_SMSTSLaunchMode** estiver definido como **SMS**. A variável pode ter os seguintes valores:<br /><br /> -   **Verdadeiro** -Especifica que a sequência de tarefas é iniciada manualmente por um utilizador a partir do Centro de Software.<br />-   **FALSO** -Especifica que a sequência de tarefas é iniciada automaticamente pelo programador do Configuration Manager.|  
|_SMSTSUseSSL|Especifica se a sequência de tarefas utiliza SSL para comunicar com o ponto de gestão do Configuration Manager. Se o seu site for executado no modo nativo, o valor é definido como **verdadeiro**.|  
|_SMSTSWTG|Especifica se o computador está a ser executado como um dispositivo Windows To Go.|  
|OSDPreserveDriveLetter|Esta variável de sequência de tarefas foi preterido. Durante uma implementação do sistema operativo, por predefinição, a Configuração do Windows determina a melhor letra de unidade a utilizar (normalmente C:). <br /><br />Comportamento anterior: ao aplicar uma imagem, a variável de OSDPreverveDriveLetter determina se a sequência de tarefas utiliza a letra de unidade capturada no ficheiro de imagem (. WIM). Defina o valor desta variável para **falso** para utilizar a localização que especificou para o **destino** definição o **aplicar sistema operativo** passo de sequência de tarefas. Para obter mais informações, veja [Aplicar Imagem do Sistema Operativo](task-sequence-steps.md#BKMK_ApplyOperatingSystemImage).|  
|SMSTSAssignmentsDownloadInterval|O número de segundos a aguardar antes do cliente tentar transferir a política desde a última tentativa que não devolveu qualquer política. Por predefinição, o cliente aguarda **0** segundos antes de repetir a operação.<br /><br /> Pode definir esta variável utilizando um comando de pré-início do suporte de dados ou do PXE.|  
|SMSTSAssignmentsDownloadRetry|O número de vezes que um cliente irá tentar transferir a política após não existem políticas encontram-se na primeira tentativa. Por predefinição, o cliente tenta repetir **0** vezes.<br /><br /> Pode definir esta variável utilizando um comando de pré-início do suporte de dados ou do PXE.|  
|SMSTSAssignUsersMode|Especifica como uma sequência de tarefas associa os utilizadores ao computador de destino. Defina a variável num dos seguintes valores:<br /><br /> -   **Auto**: A sequência de tarefas cria uma relação entre os utilizadores especificados e o computador de destino quando implementa o sistema operativo no computador de destino.<br />-   **Pendente**: A sequência de tarefas cria uma relação entre os utilizadores especificados e o computador de destino. Um administrador tem de aprovar a relação para o definir.<br />-   **Desativado**: A sequência de tarefas não associa utilizadores ao computador de destino quando implementa o sistema operativo.|  
|SMSTSDownloadAbortCode|Esta variável contém o valor do código abortar para o dispositivo de transferência do programa externo (especificado na variável SMSTSDownloadProgram). Se o programa devolver um código de erro igual ao valor da variável SMSTSDownloadAbortCode, falha de transferência do conteúdo e nenhum outro método de transferência é tentado.
|SMSTSDownloadProgram|Utilize esta variável para especificar um fornecedor de conteúdo alternativo, um programa de dispositivo de transferência que é utilizado para transferir conteúdo em vez de transferências predefinido do Configuration Manager, para a sequência de tarefas. No âmbito do processo de transferência de conteúdos, a sequência de tarefas analisa a variável para identificar um programa de transferência especificado. Se for especificada, a sequência de tarefas executará o programa para efetuar a transferência.|  
|SMSTSDownloadRetryCount|O número de vezes que o Configuration Manager tenta transferir conteúdo de um ponto de distribuição. Por predefinição, o cliente tenta repetir **2** vezes.|  
|SMSTSDownloadRetryDelay|O número de segundos que o Configuration Manager aguarda antes de voltar a tentar para transferir conteúdo de um ponto de distribuição. Por predefinição, o cliente aguarda **15** segundos antes de repetir a operação.|
|SMSTSDriverReceiveTimeOut|O número de segundos antes da ligação ao servidor exceder o tempo limite.|
|SMSTSErrorDialogTimeout|Quando ocorre um erro numa sequência de tarefas, apresenta uma caixa de diálogo com o erro. A sequência de tarefas dismisses-la automaticamente após o número de segundos especificado por esta variável. Por predefinição, este valor é **900** segundos (15 minutos).|  
| TSDisableProgressUI | <!-- 1354291 --> A partir do Configuration Manager versão 1706, utilize esta variável para controlar quando a sequência de tarefas mostra o progresso aos utilizadores finais. Para ocultar ou mostrar o progresso em alturas diferentes, defina esta variável várias vezes numa sequência de tarefas. Para ocultar o progresso da sequência de tarefas, defina o valor desta variável como **verdadeiro**. Para apresentar o progresso da sequência de tarefas, defina o valor desta variável como **falso**. | 
| SMSTSDisableStatusRetry | <!--512358--> Em cenários de desligado, o motor de sequência de tarefas tenta repetidamente enviar mensagens de estado para o ponto de gestão. Este comportamento neste cenário faz com que os atrasos no processamento da sequência de tarefas. A partir do Configuration Manager versão 1802, definir esta variável como **verdadeiro** e o motor de sequência de tarefas não tenta reenviar mensagens de estado após a primeira falha. Este comportamento dura até que o próximo reinício ou o valor desta variável é definido como **falso**. Nota: [relatórios de estado de sequência de tarefas](/sccm/core/servers/manage/list-of-reports#task-sequence---deployment-status) baseia-se nestas mensagens de estado para apresentar o progresso, histórico e os detalhes de cada passo. | 
|SMSTSLanguageFolder|Utilize esta variável para alterar o idioma de apresentação de uma imagem de arranque de idioma neutro.|  
|SMSTSLocalDataDrive|Especifica onde os ficheiros temporários são armazenados no computador de destino enquanto a sequência de tarefas é executada.<br /><br /> Esta variável tem de ser definida antes de a sequência de tarefas ser iniciada, como, por exemplo, definindo uma variável de coleção. Assim que a sequência de tarefas for iniciada, o Configuration Manager define a variável smstsmdatapath assim que a sequência de tarefas for iniciada.|  
|SMSTSMP|Utilize esta variável para especificar o URL ou endereço IP do ponto de gestão do Configuration Manager.|  
|SMSTSPeerDownload|Utilize esta variável para permitir ao cliente utilizar a Cache Ponto a Ponto do Windows PE.<br /><br /> Exemplo:<br /><br /> SMSTSPeerDownload  = **VERDADEIRO** permite esta funcionalidade.|  
|SMSTSPeerRequestPort|Uma porta de rede personalizada que utiliza a cache de ponto a ponto do Windows PE para a difusão inicial. A porta predefinida configurada nas definições de cliente é 8004.|  
|SMSTSPersistContent|Utilize esta variável para manter temporariamente o conteúdo na cache da sequência de tarefas.|  
|SMSTSPostAction|Especifica um comando que é executado após a conclusão da sequência de tarefas. Por exemplo, pode utilizar esta variável para especificar um script que ativa filtros de escrita em dispositivos incorporados após a sequência de tarefas implementar um sistema operativo no dispositivo.|  
|SMSTSPreferredAdvertID|Força a sequência de tarefas para executar uma implementação visada específica no computador de destino. Defina esta variável através de um comando de Pré-início do suporte de dados ou PXE. Se esta variável for definida, a sequência de tarefas substitui quaisquer implementações necessárias.|  
|SMSTSPreserveContent|Esta variável sinaliza o conteúdo na sequência de tarefas a ser mantido na cache do cliente do Configuration Manager após a implementação. Esta variável é diferente do SMSTSPersistContent, que apenas preserva o conteúdo durante a duração da sequência de tarefas. A cache da sequência de tarefas utiliza o SMSTSPersistContent, SMSTSPreserveContent utiliza a cache do cliente do Configuration Manager.<br /><br /> Exemplo:<br /><br /> SMSTSPreserveContent = **VERDADEIRO** permite esta funcionalidade.|  
|SMSTSRebootDelay|Especifica quantos segundos deve aguardar até que o computador seja reiniciado. Se esta variável é zero (0), o Gestor de sequência de tarefas não apresenta uma caixa de diálogo de notificação antes do reinício.<br /><br /> Exemplos:<br /><br /> **0**: não apresentar uma notificação<br /><br /> **60**: apresentar uma notificação para um minuto|  
|SMSTSRebootMessage|Especifica a mensagem a apresentar na caixa de diálogo de notificação de reinício. Se esta variável não estiver definida, é apresentada uma mensagem predefinida.<br /><br /> Exemplo:<br /><br /> **A sequência de tarefas é o reinício deste computador**.|  
|SMSTSRebootRequested|Indica que é pedido um reinício após a conclusão do passo de sequência de tarefas atual. Se for necessário reiniciar, basta definir esta variável como **verdadeiro**e o gestor da sequência de tarefas irá reiniciar o computador após este passo da sequência de tarefas. Se o passo de sequência de tarefas requer um reinício para concluir a ação, defina esta variável. Depois de reiniciar o computador, a sequência de tarefas continua a executar o seguinte passo de sequência de tarefas.|  
|SMSTSRetryRequested|Pede uma repetição após a conclusão do passo de sequência de tarefas atual. Se esta variável de sequência de tarefas estiver definida, a variável **SMSTSRebootRequested** também tem de estar definida como **verdadeiro**. Após o reinício do computador, o gestor da sequência de tarefas irá executar novamente o mesmo passo da sequência de tarefas.|  
|SMSTSUDAUsers|Especifica os utilizadores primários do computador de destino utilizando o seguinte formato:<br /><br /> Exemplo:<br /><br /> **domínio\utilizador1, domínio\utilizador2, domínio\utilizador3**<br /><br /> Separe múltiplos utilizadores com uma vírgula (,). Para obter mais informações, consulte [associar utilizadores um computador de destino](../get-started/associate-users-with-a-destination-computer.md).|  
 
