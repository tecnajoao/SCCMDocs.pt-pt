---
title: "Установка из командной строки | Документация Майкрософт"
description: "Узнайте, как запускать программу установки System Center Configuration Manager из командной строки для установки различных сайтов."
ms.custom: na
ms.date: 3/27/2017
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology: configmgr-other
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: e7cdb1a9-140a-436e-ac71-72d083110223
caps.latest.revision: "3"
author: Brenduns
ms.author: brenduns
manager: angrobe
ms.openlocfilehash: 8ff48b08d1abb7481592c0ea076d4efa15c3d8ee
ms.sourcegitcommit: 51fc48fb023f1e8d995c6c4eacfda7dbec4d0b2f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2017
---
# <a name="use-a-command-line-to-install-system-center-configuration-manager-sites"></a>Установка сайтов System Center Configuration Manager с помощью командной строки

*Применимо к: System Center Configuration Manager (Current Branch)*

 Программу установки System Center Configuration Manager можно запускать из командной строки для установки различных сайтов.

## <a name="supported-tasks-for-command-line-installations"></a>Поддерживаемые задачи при установке из командной строки
 Этот метод запуска программы установки поддерживает следующие задачи установки и обслуживания сайтов:

-   **Установка сайта центра администрирования или первичного сайта из командной строки**  
  Просмотрите [параметры командной строки для программы установки](../../../../core/servers/deploy/install/command-line-options-for-setup.md).

-  **Изменение используемых языков на первичном сайте или сайте центра администрирования**  
    Чтобы изменить установленные на сайте языки из командной строки (включая языки для мобильных устройств), необходимо выполнить следующее.  

     -   Запустите программу установки из папки **&lt;ConfigMgrInstallationPath\>\Bin\X64** на сервере сайта.
     -   Используйте параметр командной строки **/MANAGELANGS**.
     -   Укажите файл языкового сценария, указывающий языки, которые требуется добавить или удалить.  

    Например, используйте следующий синтаксис команды: **setupwpf.exe /MANAGELANGS &lt;файл_языкового_скрипта\>**.  

    Для создания файла языкового скрипта используйте сведения из статьи [Параметры командной строки для управления языками](../../../../core/servers/deploy/install/command-line-options-for-setup.md#bkmk_Lang).  

-  **Используйте файл скрипта установки для автоматических установок сайта или восстановления сайта**.  
    Вы можете запустить программу установки из командной строки с помощью сценария установки и выполнить автоматическую установку сайта. Кроме того, вы можете использовать этот параметр для восстановления сайта.    

    Использование сценария с программой установки  

    -   Запустите программу установки с параметром командной строки **/SCRIPT** и укажите файл сценария.  

    -   Файл сценария должен быть настроен с использованием необходимых ключей и значений.  

    Для автоматической установки сайта центра администрирования или первичного сайта файл сценария должен включать следующие разделы.  

    -   Identification    
    -   Параметры    
    -   SQLConfigOptions    
      -   HierarchyOptions    
    -   CloudConnectorOptions   

    Для восстановления сайта необходимо включать в файл сценария следующие разделы.  

    -   Identification  
    -   Модель

См. дополнительные сведения об [автоматическом восстановлении сайта для Configuration Manager](/sccm/protect/understand/unattended-recovery).  

Список ключей и значений, используемых в файле сценария автоматической установки, см. в разделе [Ключи файла сценария автоматической установки](../../../../core/servers/deploy/install/command-line-options-for-setup.md#bkmk_Unattended).  

## <a name="about-the-command-line-script-file"></a>Сведения о файле скрипта командной строки  
 Для выполнения автоматических установок Configuration Manager вы можете запустить программу установки с параметром командной строки **/SCRIPT** и указать файл сценария, содержащий параметры установки. Этот метод помогает решать следующие задачи.  

-   Установка сайта центра администрирования  
-   Установка первичного сайта  
-   Установка консоли Configuration Manager  
-   Восстановление сайта  

> [!NOTE]  
>  Нельзя использовать файл сценария автоматической установки для обновления ознакомительной версии до лицензированной установки Configuration Manager.  

### <a name="the-cdlatest-key-name"></a>Имя ключа CDLatest
Если вы запускаете один из перечисленных ниже четырех вариантов автоматической установки, используя носитель из папки CD.Latest, необходимо указать ключ **CDLatest** со значением **1**.
- Установка нового сайта центра администрирования.
- Установка нового первичного сайта.
- Восстановление сайта центра администрирования.
- Восстановление первичного сайта.

Это значение не работает при использовании установочного носителя, который вы получили с сайта корпоративного лицензирования Microsoft.
Сведения о том, как использовать это имя ключа в файле сценария, см. в статье [Параметры командной строки программы установки для System Center Configuration Manager](/sccm/core/servers/deploy/install/command-line-options-for-setup).



### <a name="create-the-script"></a>Создание сценария
Скрипт установки создается автоматически при [запуске программы установки для установки сайта с помощью пользовательского интерфейса](../../../../core/servers/deploy/install/use-the-setup-wizard-to-install-sites.md).  При подтверждении параметров на странице **Сводка** мастера происходит следующее.  

-   Программа установки создает сценарий **%TEMP%\ConfigMgrAutoSave.ini**.  Вы можете переименовать этот файл перед использованием, сохранив при этом его расширение INI.  
-   Сценарий автоматической установки содержит параметры, выбранные в мастере.  
-   После создания сценарий можно изменить для установки других сайтов в иерархии.  
-   Затем вы можете использовать этот сценарий, чтобы выполнить автоматическую установку Configuration Manager.  

Этот файл сценария предоставляет такие же данные, которые запрашиваются мастером установки, однако в нем отсутствуют значения параметров по умолчанию.   
Необходимо указать все значения для ключей установки, применимых к используемому типу установки.   

Когда программа установки создает сценарий автоматической установки, он дополняется значением ключа продукта, введенным в программе установки. Это может быть действительный ключ продукта или значение **EVAL** при установке ознакомительной версии Configuration Manager. Значение ключа продукта в сценарии заполняется, чтобы проверка предварительных условий могла завершиться.   

Когда программа установки запускает установку сайта, автоматически созданный сценарий снова изменяется, чтобы удалить значение ключа продукта. Перед использованием сценария для автоматической установки нового сайта вы можете изменить его, чтобы указать действительный ключ продукта или задать ознакомительную установку Configuration Manager.  

### <a name="section-names-key-names-and-values"></a>Имена разделов, имена ключей и значения
Сценарий содержит имена разделов, имена ключей и значения. Просмотрите следующие сведения.
-   Набор необходимых разделов и ключей может различаться в зависимости от типа установки, для которого предназначается сценарий.
-   Порядок следования ключей внутри разделов и порядок следования разделов внутри файла не имеет значения.     
-   В ключах не учитывается регистр.  
-   Значения ключей указываются так: после имени ключа должен стоять знак равенства (=), а затем — значение ключа.    

> [!TIP]  
>  Полный набор параметров см. в разделе [Параметры командной строки для программы установки и сценариев](../../../../core/servers/deploy/install/command-line-options-for-setup.md).  

## <a name="use-the-script-setup-command-line-option"></a>Необходимые условия использования параметра командной строки /SCRIPT программы установки

-   Необходимо использовать файл сценария установки и указать имя этого файла после параметра командной строки **/SCRIPT** программы установки. Просмотрите следующие сведения.   
    -   Имя файла должно иметь расширение **.ini**.  
    -   Ссылаясь на файл сценария установки в командной строке, необходимо указывать полный путь к этому файлу. Например, если файл настройки установки называется setup.ini и хранится в папке C:\setup, то командная строка будет выглядеть так: **setup /script c:\setup\setup.ini**.  

-   Учетная запись, используемая для выполнения программы установки, должна обладать правами **администратора** на компьютере. При запуске программы установки со сценарием автоматической установки откройте окно командной строки с помощью команды **Запуск от имени администратора**.   
