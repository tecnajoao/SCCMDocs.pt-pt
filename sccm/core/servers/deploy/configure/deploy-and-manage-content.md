---
title: "Развертывание содержимого | Документы Майкрософт"
description: "После установки точек распространения в System Center Configuration Manager в них можно развертывать содержимое. Для выполнения соответствующих операций используйте информацию из этой статьи."
ms.custom: na
ms.date: 10/06/2016
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology: configmgr-other
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: d50dcca0-4419-449d-a487-73abcadf328f
caps.latest.revision: "6"
author: Brenduns
ms.author: brenduns
manager: angrobe
ms.openlocfilehash: 36b08285ef78d0acb9ba9c44abe2d57e311d44b3
ms.sourcegitcommit: 51fc48fb023f1e8d995c6c4eacfda7dbec4d0b2f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2017
---
# <a name="deploy-and-manage-content-for-system-center-configuration-manager"></a>Развертывание содержимого и управление им с помощью System Center Configuration Manager

*Применимо к: System Center Configuration Manager (Current Branch)*

После установки точек распространения в System Center Configuration Manager в них можно развертывать содержимое. Как правило, содержимое передается на точки распространения по сети. Однако существуют и другие способы распространения содержимого на точки распространения. Содержимое, переданное на точку распространения, можно обновлять, распространять, удалять и проверять.  

##  <a name="bkmk_distribute"></a> Распространение содержимого  
 В общем случае необходимо распространить содержимое на точки распространения, чтобы оно было доступно на клиентских компьютерах. (Исключением из этого является использование распространения содержимого по запросу для конкретного развертывания.)  При распространении содержимого Configuration Manager сохраняет файлы содержимого в пакете, а затем распространяет пакет на точку распространения. Существует несколько типов содержимого, которое можно распространять, включая указанные далее.  

-   Типы развертываний приложения  

-   пакеты,  

-   пакеты развертывания,  

-   пакеты драйверов,  

-   Образы операционной системы  

-   Установщики операционной системы  

-   загрузочные образы,  

-   последовательности задач;  

При создании пакета, содержащего исходные файлы, например тип развертывания приложения или пакет развертывания, сайт, на котором создается пакет, становится владельцем источника содержимого пакета. Configuration Manager копирует исходные файлы из папки исходных файлов, указанной для объекта, в библиотеку содержимого на сервере сайта, которому принадлежит источник содержимого пакета.  Затем Configuration Manager реплицирует информацию на дополнительные сайты. (Дополнительные сведения см. в статье [Библиотека содержимого](../../../../core/plan-design/hierarchy/the-content-library.md).)  

Следующая процедура используется для распространения содержимого в точки распространения.  

#### <a name="to-distribute-content-on-distribution-points"></a>Распространение содержимого в точки распространения  

1.  В консоли Configuration Manager щелкните **Библиотека программного обеспечения**.  

2.  В рабочей области **Библиотека программного обеспечения** выберите одно из следующих действий для типа содержимого, который требуется распространить.  

    -   **Приложения**: разверните узел **Управление приложениями** > **Приложения**, а затем выберите приложения, которые требуется распространить.  

    -   **Пакеты**: разверните узел **Управление приложениями** >  **Пакеты**, а затем выберите пакеты, которые требуется распространить.  

    -   **Пакеты развертывания**: разверните узел **Обновления программного обеспечения** >  **Пакеты развертывания**, а затем выберите пакеты развертывания, которые требуется распространить.  

    -   **Пакеты драйверов**: разверните узел **Операционные системы** >  **Пакеты драйверов**, а затем выберите пакеты драйверов, которые требуется распространить.  

    -   **Образы операционной системы**: разверните узел **Операционные системы** >  **Образы операционной системы**, а затем выберите образы операционной системы, которые требуется распространить.  

    -   **Установщики операционной системы**: разверните узел **Операционные системы** > **Установщики операционной системы**, а затем выберите установщики операционной системы, которые требуется распространить.  

    -   **Загрузочные образы**: разверните узел **Операционные системы** >  **Загрузочные образы**, а затем выберите загрузочные образы, которые требуется распространить.  

    -   **Последовательности задач**: разверните узел **Операционные системы** >  **Последовательности задач**, а затем выберите последовательность задач, которую требуется распространить. Несмотря на то, что в последовательностях задач нет содержимого, они располагают зависимостями связанного содержимого, которые можно распространить.  

        > [!NOTE]  
        >  В случае изменения последовательности задач необходимо распределить содержимое повторно.  

3.  На вкладке **Главная** в группе **Развертывание** нажмите кнопку **Распространить содержимое**. Откроется мастер распространения содержимого.  

4.  На странице **Главная** убедитесь, что указано необходимое для распространения содержимое, выберите, следует ли Configuration Manager обнаруживать зависимости содержимого, связанные с выбранным содержимым, и добавьте зависимости в распространение, а затем нажмите кнопку **Далее**.  

    > [!NOTE]  
    >  Параметр **Определить зависимости данного пакета и добавить их к данному распространению** можно настроить только для типа содержимого приложения. Configuration Manager автоматически настраивает этот параметр для последовательностей задач. Параметр изменить нельзя.  

5.  На вкладке **Содержимое** проверьте, что указано необходимое для распространения содержимое, а затем нажмите кнопку **Далее**.  

    > [!NOTE]  
    >  Станица **Содержимое** отображается только в том случае, если на странице мастера **Общие** выбран параметр **Определить зависимости данного пакета и добавить их к данному распространению** .  

6.  На странице **Места распространения содержимого** нажмите кнопку **Добавить**, выберите один из следующих объектов и выполните связанное действие.  

    -   **Коллекции**. Выберите **Коллекции пользователей** или **Коллекции устройств**, выберите коллекцию, связанную с одной или несколькими группами точек распространения, а затем нажмите кнопку **ОК**.  

        > [!NOTE]  
        >  Будут отображены только коллекции, связанные с группой точек распространения. Дополнительные сведения о сопоставлении коллекций с группами точек распространения см. в разделе [Управление группами точек распространения](../../../../core/servers/deploy/configure/install-and-configure-distribution-points.md#bkmk_manage) статьи [Установка и настройка точек распространения в System Center Configuration Manager](../../../../core/servers/deploy/configure/install-and-configure-distribution-points.md).  

    -   **Точка распространения**. Выберите существующую точку распространения, а затем нажмите кнопку **ОК**. Точки распространения, получившие содержимое ранее, не отображаются.  

    -   **Группа точек распространения**. Выберите существующую группу точек распространения, а затем нажмите кнопку **ОК**. Группы точек распространения, получившие содержимое ранее, не отображаются.  

    Закончив добавление мест распространения содержимого, нажмите кнопку **Далее**.  

7.  Прежде чем продолжить, на странице **Сводка** проверьте параметры распространения. Чтобы распространить содержимое в выбранные места, нажмите кнопку **Далее**.  

8.  На странице **Ход выполнения** отображается ход выполнения распространения.  

9. На странице **Подтверждение** отображается результат назначения содержимого точкам. Сведения о мониторинге распространения содержимого см. в статье [Мониторинг содержимого, распространенного с помощью System Center Configuration Manager](../../../../core/servers/deploy/configure/monitor-content-you-have-distributed.md).  

##  <a name="bkmk_prestage"></a> Использование предварительно подготовленного содержимого  
 Можно предварительно подготовить файлы содержимого для приложений и различных типов пакетов.  

-   В консоли Configuration Manager выберите нужное содержимое, а затем с помощью **мастера создания файлов с предварительно подготовленным содержимым** создайте сжатый файл с предварительно подготовленным содержимым, содержащий файлы и связанные метаданные для выбранного содержимого.  

-   После этого можно вручную импортировать содержимое на сервере сайта, на вторичном сайте или в точке распространения.  

-   При импорте файла с предварительно подготовленным содержимым на сервер сайта файлы содержимого добавляются в библиотеку содержимого на сервере сайта, а затем регистрируются в базе данных сайта.  

-   При импорте файла с предварительно подготовленным содержимым на точку распространения файлы содержимого добавляются в библиотеку содержимого в точке распространения, а на сервер сайта отправляется сообщение о состоянии, указывающее, что содержимое доступно в точке распространения.  

**Ограничения и рекомендации для предварительно подготовленного содержимого**  

-   **Если точка распространения находится на сервере сайта**, не включайте точку распространения для предварительно подготовленного содержимого. Вместо этого используйте процедуру, описанную в статье [Предварительная подготовка содержимого в точках распространения, расположенных на сервере сайта](#bkmk_dpsiteserver).  

-   **Если точка распространения настроена как точка распространения по запросу**, не включайте точку распространения для предварительно подготовленного содержимого. Конфигурация предварительно подготовленного содержимого для точки распространения переопределяет конфигурацию точки распространения по запросу. Точка распространения по запросу, настроенная для поддержки предварительно подготовленного содержимого, не запрашивает содержимое у исходной точки распространения и не получает содержимое с сервера сайта.  

-   **Перед предварительной подготовкой содержимого в точке распространения необходимо создать библиотеку содержимого в этой точке распространения**. Необходимо по крайней мере один раз распространить содержимое по сети перед предварительной подготовкой содержимого в точке распространения.  

-   **При подготовке содержимого для пакета с длинным исходным путем** (например, больше 140 символов) у программы командной строки для извлечения содержимого может не получиться извлечь содержимое этого пакета в библиотеку содержимого.  

Сведения о том, когда следует предварительно готовить файлы содержимого, см. в разделе *Предварительно подготовленное содержимое* статьи [Управление пропускной способностью сети для управления содержимым](/sccm/core/plan-design/hierarchy/manage-network-bandwidth).  

Для предварительной подготовки содержимого используйте информацию следующих разделов.  

###  <a name="BKMK_CreatePrestagedContentFile"></a> Шаг 1. Создание файла с предварительно подготовленным содержимым  
 Можно создать сжатый файл с предварительно подготовленным содержимым, который будет содержать файлы и метаданные содержимого, выбранного в консоли Configuration Manager. Используйте следующую процедуру, чтобы создать файл с предварительно подготовленным содержимым.  

##### <a name="to-create-a-prestaged-content-file"></a>Создание файла с предварительно подготовленным содержимым  

1.  В консоли Configuration Manager щелкните **Библиотека программного обеспечения**.  

2.  В рабочей области **Библиотека программного обеспечения** выберите один из следующих шагов в зависимости от типа содержимого, которое нужно предварительно подготовить.  

    -   **Приложения**. Разверните узел **Управление приложениями**, щелкните **Приложения**, затем выберите приложения, которые нужно предварительно подготовить.  

    -   **Пакеты**. Разверните узел **Управление приложениями**, щелкните **Пакеты**, затем выберите пакеты, которые нужно предварительно подготовить.  

    -   **Пакеты драйверов**. Разверните узел **Операционные системы**, щелкните **Пакеты драйверов**, затем выберите пакеты драйверов, которые нужно предварительно подготовить.  

    -   **Образы операционной системы**. Разверните узел **Операционные системы**, щелкните **Образы операционной системы**, затем выберите образы операционной системы, которые нужно предварительно подготовить.  

    -   **Установщики операционной системы**. Разверните узел **Операционные системы**, щелкните **Установщики операционной системы**, затем выберите установщики операционной системы, которые нужно предварительно подготовить.  

    -   **Загрузочные образы**. Разверните узел **Операционные системы**, щелкните **Загрузочные образы**, затем выберите загрузочные образы, которые нужно предварительно подготовить.  

    -   **Последовательности задач**. Разверните узел **Операционные системы**, щелкните **Последовательности задач**, затем выберите последовательность задач, которую нужно предварительно подготовить.  

3.  На вкладке **Главная** в группе **Развертывание** щелкните **Создать файл с предварительно подготовленным содержимым**. Откроется мастер создания файлов с предварительно подготовленным содержимым.  

    > [!NOTE]  
    >  **Для приложений.** На вкладке **Главная** в группе **Приложение** щелкните **Создать файл с предварительно подготовленным содержимым**.  
    >   
    >  **Для пакетов.** на вкладке **Главная** в группе &lt;*Имя_пакета*> щелкните пункт **Создать файл с предварительно подготовленным содержимым**.  

4.  На странице **Общие** нажмите кнопку **Обзор**, выберите расположение файла с предварительно подготовленным содержимым, укажите имя файла, а затем нажмите кнопку **Сохранить**. Этот файл с предварительно подготовленным содержимым используется на серверах первичных сайтов, серверах вторичных сайтов и в точках распространения для импорта содержимого и метаданных.  

5.  Для приложений выберите параметр **Экспорт всех зависимостей**, чтобы Configuration Manager обнаруживал и добавлял зависимости, связанные с приложением, в файл с предварительно подготовленным содержимым. По умолчанию этот параметр выбран.  

6.  В поле **Комментарии администратора**введите дополнительные комментарии о файле с предварительно подготовленным содержимым, затем нажмите кнопку **Далее**.  

7.  На странице **Содержимое** проверьте, что указанное содержимое — именно то, которое требуется добавить в файл с предварительно подготовленным содержимым, затем нажмите кнопку **Далее**.  

8.  На странице **Расположения содержимого** укажите точки распространения, из которых следует получать файлы содержимого для создания файла с предварительно подготовленным содержимым. Можно выбрать несколько точек распространения для получения содержимого. Точки распространения перечисляются в разделе "Расположения содержимого". В столбце **Содержимое** отображается, сколько выбранных пакетов или приложений доступно в каждой точке распространения. Configuration Manager сначала пытается получить выбранное содержимое с первой точки распространения, а затем передвигается далее по списку, чтобы получить оставшееся содержимое, необходимое для файла с предварительно подготовленным содержимым. Используйте кнопки **Вверх** или **Вниз** , чтобы изменить порядок приоритета точек распространения. Если точки распространения в списке не содержат все выбранное содержимое, нужно добавить в список точки распространения, содержащие нужное содержимое, или закрыть мастер, распространить содержимое по крайней мере в одну точку распространения, а затем еще раз запустить мастер.  

9. На странице **Сводка** подтвердите введенные данные. Можно вернуться к предыдущим страницам и внести необходимые изменения. Нажмите кнопку **Далее** , чтобы создать файл с предварительно подготовленным содержимым.  

10. На странице **Выполнение** будет показано содержимое, добавляемое в файл с предварительно подготовленным содержимым.  

11. На странице **Завершение** убедитесь, что файл с предварительно подготовленным содержимым успешно создан, затем нажмите кнопку **Закрыть**.  

###  <a name="BKMK_AssignContentToDistributionPoint"></a> Шаг 2. Назначение содержимого в точки распространения  
 После подготовки файла с содержимым следует назначить содержимое точкам распространения.  

> [!NOTE]  
>  Эту процедуру можно пропустить, если файл с предварительно подготовленным содержимым используется для восстановления библиотеки содержимого на сервере сайта, и при этом не требуется предварительная подготовка файлов содержимого в точке распространения.  

 Используйте следующую процедуру, чтобы назначить содержимое файла с предварительно подготовленным содержимым точкам распространения.  

> [!IMPORTANT]  
>  Убедитесь, что точки распространения, которые следует предварительно подготовить, настроены как подготовленные точки распространения или что содержимое распространяется в точки распространения по сети.  

##### <a name="to-assign-the-content-to-distribution-points"></a>Назначение содержимого в точки распространения  

1.  В консоли Configuration Manager щелкните **Библиотека программного обеспечения**.  

2.  В рабочей области **Библиотека программного обеспечения** выберите один из следующих шагов в зависимости от типа содержимого, выбранного при создании файла с предварительно подготовленным содержимым.  

    -   **Приложения**. Разверните узел **Управление приложениями**, щелкните **Приложения**, затем выберите предварительно подготовленные приложения.  

    -   **Пакеты**. Разверните узел **Управление приложениями**, щелкните **Пакеты**, затем выберите предварительно подготовленные пакеты.  

    -   **Пакеты развертывания**. Разверните узел **Обновления программного обеспечения**, щелкните **Пакеты развертывания**, затем выберите предварительно подготовленные пакеты развертывания.  

    -   **Пакеты драйверов**. Разверните узел **Операционные системы**, щелкните **Пакеты драйверов**, затем выберите предварительно подготовленные пакеты драйверов.  

    -   **Образы операционной системы**. Разверните узел **Операционные системы**, щелкните **Образы операционной системы**, затем выберите предварительно подготовленные образы операционной системы.  

    -   **Установщики операционной системы**. Разверните узел **Операционные системы**, щелкните **Установщики операционной системы**, затем выберите предварительно подготовленные установщики операционной системы.  

    -   **Загрузочные образы**. Разверните узел **Операционные системы**, щелкните **Загрузочные образы**, затем выберите предварительно подготовленные загрузочные образы.  

3.  На вкладке **Главная** в группе **Развертывание** нажмите кнопку **Распространить содержимое**. Откроется мастер распространения содержимого.  

4.  На странице **Содержимое** проверьте, что указанное содержимое — именно то, которое было предварительно подготовлено, выберите, должен ли Configuration Manager обнаружить зависимости, связанные с выбранным содержимым, и добавить зависимости в распространение, затем нажмите кнопку **Далее**.  

    > [!NOTE]  
    >  Параметр **Определить зависимости данного пакета и добавить их к данному распространению** можно настроить только для типа содержимого приложения. Configuration Manager автоматически настраивает этот параметр для последовательностей задач. Параметр изменить нельзя.  

5.  На вкладке **Содержимое** проверьте, что указано необходимое для распространения содержимое, а затем нажмите кнопку **Далее**.  

    > [!NOTE]  
    >  Станица **Содержимое** отображается только в том случае, если на странице мастера **Общие** выбран параметр **Определить зависимости данного пакета и добавить их к данному распространению** .  

6.  На странице **Места распространения содержимого** , нажмите кнопку **Добавить**, выберите один из следующих объектов с точками распространения, требующими подготовки, и выполните связанное действие.  

    -   **Коллекции**. Выберите **Коллекции пользователей** или **Коллекции устройств**, выберите коллекцию, связанную с одной или несколькими группами точек распространения, а затем нажмите кнопку **ОК**.  

        > [!NOTE]  
        >  Будут отображены только коллекции, связанные с группой точек распространения.  См. раздел [Управление группами точек распространения](../../../../core/servers/deploy/configure/install-and-configure-distribution-points.md#bkmk_manage) в статье [Установка и настройка точек распространения в System Center Configuration Manager](../../../../core/servers/deploy/configure/install-and-configure-distribution-points.md).  

    -   **Точка распространения**. Выберите существующую точку распространения, а затем нажмите кнопку **ОК**. Точки распространения, получившие содержимое ранее, не отображаются.  

    -   **Группа точек распространения**. Выберите существующую группу точек распространения, а затем нажмите кнопку **ОК**. Группы точек распространения, получившие содержимое ранее, не отображаются.  

    Закончив добавление мест распространения содержимого, нажмите кнопку **Далее**.  

7.  Прежде чем продолжить, на странице **Сводка** проверьте параметры распространения. Чтобы распространить содержимое в выбранные места, нажмите кнопку **Далее**.  

8.  На странице **Ход выполнения** отображается ход выполнения распространения.  

9. На странице **Подтверждение** отображается результат назначения содержимого точкам распространения. Сведения о мониторинге распространения содержимого см. в статье [Мониторинг содержимого, распространенного с помощью System Center Configuration Manager](../../../../core/servers/deploy/configure/monitor-content-you-have-distributed.md).  

###  <a name="BKMK_ExportContentFromPrestagedContentFile"></a> Шаг 3. Извлечение содержимого из файла с предварительно подготовленным содержимым  
 После создания файла с предварительно подготовленным содержимым и назначения содержимого точкам распространения можно извлечь файлы содержимого в библиотеку содержимого на сервере сайта или в точке распространения. Как правило, следует скопировать файл с предварительно подготовленным содержимым на переносной накопитель, например на USB-накопитель, или записать содержимое на диск, например на DVD-диск, чтобы требуемое содержимое было доступно в расположении сервера сайта или точки распространения.  

 Используйте следующую процедуру, чтобы вручную экспортировать файлы содержимого из файла с предварительно подготовленным содержимым с помощью программы командной строки Extract Content.  

> [!IMPORTANT]  
>  При запуске программы командной строки для извлечения содержимого она создает временный файл во время создания файла с подготовленным содержимым. Затем файл копируется в конечную папку, а временный файл удаляется. На диске должно быть достаточно места для временного файла, иначе в процессе произойдет ошибка. Временный файл создается в следующем каталоге.  
>   
>  -   Временный файл создается в конечной папке для файла с предварительно подготовленным содержимым.  

> [!IMPORTANT]  
>  Пользователь, запускающий программу командной строки Extract Content, должен обладать правами **администратора** на компьютере, где производится извлечение предварительно подготовленного содержимого.  

##### <a name="to-extract-the-content-files-from-the-prestaged-content-file"></a>Извлечение файлов содержимого из файла с предварительно подготовленным содержимым  

1.  Скопируйте файл с предварительно подготовленным содержимым на компьютер, на котором нужно извлечь содержимое.  

2.  Скопируйте программу командной строки Extract Content из папки &lt;*путь_установки_Configuration_Manager*>\bin\\&lt;*платформа*> на компьютер, на котором нужно извлечь файл с предварительно подготовленным содержимым.  

3.  Откройте командную строку и перейдите в папку, где находится файл с предварительно подготовленным содержимым и программа Extract Content.  

    > [!NOTE]  
    >  Можно извлечь один или несколько файлов с предварительно подготовленным содержимым на сервере сайта, на вторичном сайте или в точке распространения.  

4.  Введите команду **extractcontent /P:**&lt;*расположение_файлов*>**\\**&lt;*имя_файла*> **/S**, чтобы импортировать один файл.  

     Введите команду **extractcontent /P:**&lt;*расположение_файлов*> **/S**, чтобы импортировать все файлы с предварительно подготовленным содержимым, находящиеся в указанной папке.  

     Например, введите команду **extractcontent /P:D:\PrestagedFiles\MyPrestagedFile.pkgx /S**, где `D:\PrestagedFiles\` — расположение файлов, `MyPrestagedFile.pkgx` — имя файла с предварительно подготовленным содержимым, а параметр `/S` указывает, что Configuration Manager должен извлекать только более новые по сравнению с находящимися в настоящее время в точке распространения файлы содержимого.  

     При извлечении файла с предварительно подготовленным содержимым на сервере сайта файлы содержимого добавляются в библиотеку содержимого на сервере сайта, а затем сведения о доступности содержимого записываются в базу данных сервера сайта. При экспорте файла с предварительно подготовленным содержимым в точке распространения файлы содержимого добавляются в библиотеку содержимого в точке распространения, точка распространения отправляет сообщение о состоянии на родительский сервер сайта, а затем сведения о доступности содержимого записываются в базу данных сервера сайта.  

    > [!IMPORTANT]  
    >  В следующем сценарии необходимо обновить содержимое, извлеченное из файла с предварительно подготовленным содержимым, при обновлении содержимого до новой версии.  
    >   
    >  1.  Создается файл с предварительно подготовленным содержимым для версии 1 пакета.  
    >  2.  Обновляются исходные файлы этого пакета до версии 2.  
    >  3.  Извлекается файл с предварительно подготовленным содержимым (версия 1 пакета) в точке распространения.  
    >   
    > Configuration Manager не распространяет автоматически пакет версии 2 в точке распространения. Необходимо создать новый файл с новой версией, а затем извлечь содержимое, обновить точку распространения, чтобы распространить изменившиеся файлы, или повторно распространить все файлы пакета.  

###  <a name="bkmk_dpsiteserver"></a> Порядок предварительной подготовки содержимого в точке распространения, расположенной на сервере сайта  
 Если на сервере сайта установлена точка распространения, необходимо с помощью следующей процедуры выполнить предварительную подготовку содержимого. Это вызвано тем, что файлы содержимого уже находятся в библиотеке содержимого.  

 Если точка распространения не включена для предварительно подготовленного содержимого или точка распространения расположена не на сервере сайта, обратитесь к подразделу [Использование предварительно подготовленного содержимого](#bkmk_prestage) этого раздела.  

##### <a name="to-prestage-content-on-distribution-points-located-on-a-site-server"></a>Чтобы выполнить предварительную подготовку содержимого на точках распространения, расположенных на сервере сайта, выполните следующие действия.  

1.  Выполните следующие шаги, чтобы убедиться в том, что точка распространения не включена для предварительно подготовленного содержимого.  

    1.  В консоли Configuration Manager щелкните **Администрирование**.  

    2.  В рабочей области **Администрирование** щелкните **Точки распространения**, а затем выберите точку распространения, расположенную на сервере сайта.  

    3.  На вкладке **Главная** в группе **Свойства** нажмите кнопку **Свойства**.  

    4.  Убедитесь, что на вкладке **Общие** не установлен флажок **Включить эту точку распространения в режиме предварительного копирования содержимого** .  

2.  Создайте файл с предварительно подготовленным содержимым, используя сведения в подразделе [Шаг 1. Создание файла с предварительно подготовленным содержимым](#BKMK_CreatePrestagedContentFile) этого раздела.  

3.  Назначьте содержимое точке распространения, используя сведения в подразделе [Шаг 2. Назначение содержимого в точки распространения](#BKMK_AssignContentToDistributionPoint) этого раздела.  

4.  На сервере сайта извлеките содержимое из файла с предварительно подготовленным содержимым, используя сведения в подразделе [Шаг 3. Извлечение содержимого из файла с предварительно подготовленным содержимым](#BKMK_ExportContentFromPrestagedContentFile) этого раздела.  

    > [!NOTE]  
    >  Если точка распространения находится на вторичном сайте, подождите не менее 10 минут, после чего с помощью консоли Configuration Manager, подключенной к первичному родительскому сайту, назначьте содержимое точке распространения на вторичном сайте.  

##  <a name="bkmk_manage"></a> Управление распространенным содержимым  
 Существуют следующие варианты управления содержимым.  
 - [Обновление содержимого](#update-content)
 - [Повторное распространение содержимого](#redistribute-content)
 - [Удаление содержимого](#remove-content)
 - [Проверка содержимого](#validate-content)

### <a name="update-content"></a>Обновление содержимого
Когда вы обновляете исходное расположение файлов для развертывания посредством добавления новых файлов или замены существующих файлов более новой версией, файлы содержимого в точках распространения можно обновить, выполнив действие **Обновить точки распространения** или **Обновить содержимое**:  
-   Файлы содержимого копируются из папки исходных файлов в библиотеку содержимого на сайте, которому принадлежит источник содержимого пакета.  
-   Версия пакета увеличивается.  
-   Каждый экземпляр библиотеки содержимого на серверах сайта и на точках распространения обновляется с использованием только тех файлов, которые были изменены.  

> [!WARNING]  
>  Пакет для приложений всегда имеет версию 1. После обновления содержимого для типа развертывания приложения Configuration Manager создаст новый идентификатор содержимого для типа развертывания, и пакет будет ссылаться на новый идентификатор содержимого.  

#### <a name="to-update-content-on-distribution-points"></a>Обновление содержимого в точках распространения  

1.  В консоли Configuration Manager щелкните **Библиотека программного обеспечения**.  

2.  В рабочей области **Библиотека программного обеспечения** выберите одно из следующих действий для типа содержимого, который требуется распространить.  

    -   **Приложения**: разверните узел **Управление приложениями** > **Приложения**, а затем выберите приложения, которые требуется распространить. Откройте вкладку **Типы развертываний** и выберите тип развертывания, который требуется обновить.  

    -   **Пакеты**: разверните узел **Управление приложениями** > **Пакеты**, а затем выберите пакеты, которые требуется обновить.  

    -   **Пакеты развертывания**: разверните узел **Обновления программного обеспечения** > **Пакеты развертывания**, а затем выберите пакеты развертывания, которые требуется обновить.  

    -   **Пакеты драйверов**: разверните узел **Операционные системы** > **Пакеты драйверов**, а затем выберите пакеты драйверов, которые требуется обновить.  

    -   **Образы операционной системы**: разверните узел **Операционные системы** > **Образы операционной системы**, а затем выберите образы операционной системы, которые требуется обновить.  

    -   **Установщики операционной системы**: разверните узел **Операционные системы** > **Установщики операционной системы**, а затем выберите установщики операционной системы, которые требуется обновить.  

    -   **Загрузочные образы**: разверните узел **Операционные системы** >  **Загрузочные образы**, а затем выберите загрузочные образы, которые требуется обновить.  

3.  На вкладке **Главная** в группе **Развертывание** щелкните **Обновить точки распространения**, а затем нажмите кнопку **ОК** для подтверждения обновления содержимого.  

    > [!NOTE]  
    >  Чтобы обновить содержимое для приложений, откройте вкладку **Типы развертывания** , правой кнопкой мыши щелкните тип развертывания, выберите команду **Обновить содержимое**, а затем нажмите кнопку **ОК** для подтверждения обновления содержимого.  

    > [!NOTE]  
    >  При обновлении содержимого для загрузочных образов откроется мастер управления точками распространения. Проверьте сведения на странице **Сводка** и завершите работу мастера по обновлению содержимого.  

### <a name="redistribute-content"></a>Повторное распространение содержимого
Повторное распространения пакета выполняется для того, чтобы скопировать все файлы содержимого пакета в точки распространения или группы точек распространения и перезаписать тем самым существующие файлы.  

 Используйте это действие для восстановления файлов содержимого в пакете или повторной отправки содержимого в случае сбоя первоначального распространения. Пакет можно повторно распространить из:  

-   свойств пакета;  
-   свойств точки распространения;  
-   свойств группы точек распространения.  


#### <a name="to-redistribute-content-from-package-properties"></a>Повторное распространение содержимого из свойств пакета  

1.  В консоли Configuration Manager щелкните **Библиотека программного обеспечения**.  

2.  В рабочей области **Библиотека программного обеспечения** выберите одно из следующих действий для типа содержимого, который требуется распространить.  

    -   **Приложения**: разверните узел **Управление приложениями** >  **Приложения**, а затем выберите приложение, которое требуется повторно распространить.  

    -   **Пакеты**: разверните узел **Управление приложениями** > **Пакеты**, а затем выберите пакет, который требуется повторно распространить.  

    -   **Пакеты развертывания**: разверните узел**Обновления программного обеспечения** >  **Пакеты развертывания**, а затем выберите пакет развертывания, который требуется повторно распространить.  

    -   **Пакеты драйверов**: разверните узел **Операционные системы** > **Пакеты драйверов**, а затем выберите пакет драйверов, который требуется повторно распространить.  

    -   **Образы операционной системы**: разверните узел **Операционные системы** > **Образы операционной системы**, а затем выберите образ операционной системы, который требуется повторно распространить.  

    -   **Установщики операционной системы**: разверните узел **Операционные системы** > **Установщики операционной системы**, а затем выберите установщик операционной системы, который требуется повторно распространить.  

    -   **Загрузочные образы**: разверните узел **Операционные системы** >  **Загрузочные образы**, а затем выберите загрузочный образ, который требуется повторно распространить.  

3.  На вкладке **Главная** в группе **Свойства** нажмите кнопку **Свойства**.  

4.  На вкладке **Расположения содержимого** , выберите точку распространения или группу точек распространения, в которую требуется повторно распространить содержимое, нажмите кнопку **Повторить**, а затем — кнопку **ОК**.  

#### <a name="to-redistribute-content-from-distribution-point-properties"></a>Повторное распространение содержимого из свойств точки распространения  

1.  В консоли Configuration Manager щелкните **Администрирование**.  

2.  В рабочей области **Администрирование** щелкните **Точки распространения**, а затем выберите точку распространения, в которую требуется повторно распространить содержимое.  

3.  На вкладке **Главная** в группе **Свойства** нажмите кнопку **Свойства**.  

4.  Откройте вкладку **Содержимое** , выберите содержимое для повторного распространения, нажмите кнопку **Повторить**, а затем — кнопку **ОК**.  

#### <a name="to-redistribute-content-from-distribution-point-group-properties"></a>Повторное распространение содержимого из окна свойств группы точек распространения  

1.  В консоли Configuration Manager щелкните **Администрирование**.  

2.  В рабочей области **Администрирование** щелкните узел **Группы точек распространения**, затем выберите группу точек распространения, в которой нужно повторно распространить содержимое.  

3.  На вкладке **Главная** в группе **Свойства** нажмите кнопку **Свойства**.  

4.  Откройте вкладку **Содержимое** , выберите содержимое для повторного распространения, нажмите кнопку **Повторить**, а затем — кнопку **ОК**.  

    > [!IMPORTANT]  
    >  Содержимое пакета будет повторно распространено во всех точках распространения в группе.  


#### <a name="use-the-sdk-to-force-replication-of-content"></a>Использование пакета SDK для принудительной репликации содержимого
С помощью метода класса **RetryContentReplication** инструментария управления Windows (WMI) из пакета SDK Configuration Manager можно сделать так, чтобы диспетчер распространения скопировал содержимое из исходного расположения в библиотеку содержимого.  

Используйте принудительную репликацию, только если необходимо принудительно распространить содержимое после возникновения проблем с обычной репликацией содержимого (обычно проверяется с помощью узла "Наблюдение" консоли).   

Дополнительные сведения об этом параметре SDK см. в разделе [Метод RetryContentReplication класса SMS_CM_UpdatePackages](https://msdn.microsoft.com/library/mt762092(CMSDK.16).aspx) на сайте MSDN.Microsoft.com.

### <a name="remove-content"></a>Удаление содержимого
Если содержимое больше не нужно в точках распространения, можно удалить файлы содержимого из точек распространения.  

-   свойств пакета;  
-   свойств точки распространения;  
-   свойств группы точек распространения.  

Однако если содержимое сопоставлено с другим пакетом, распространенным в ту же точку распространения, то это содержимое удалить нельзя.  

#### <a name="to-remove-package-content-files-from-distribution-points"></a>Удаление файлов пакетов содержимого из точек распространения  

1.  В консоли Configuration Manager щелкните **Библиотека программного обеспечения**.  

2.  В рабочей области **Библиотека программного обеспечения** выберите один из следующих шагов в зависимости от типа содержимого, которое нужно удалить.  

    -   **Приложения**: разверните узел **Управление приложениями** > **Приложения**, а затем выберите приложение, которое требуется удалить.  

    -   **Пакеты**: разверните узел **Управление приложениями** > **** Пакеты, а затем выберите пакет, который требуется удалить.  

    -   **Пакеты развертывания**: разверните узел **Обновления программного обеспечения** > **Пакеты развертывания**, а затем выберите пакет развертывания, который требуется удалить.  

    -   **Пакеты драйверов**: разверните узел **Операционные системы** > **Пакеты драйверов**, а затем выберите пакет драйверов, который требуется удалить.  

    -   **Образы операционной системы**: разверните узел **Операционные системы** > **Образы операционной системы**, а затем выберите образ операционной системы, который требуется удалить.  

    -   **Установщики операционной системы**: разверните узел **Операционные системы** > **Установщики операционной системы**, а затем выберите установщик операционной системы, который требуется удалить.  

    -   **Загрузочные образы**: разверните узел **Операционные системы** > **Загрузочные образы**, а затем выберите загрузочный образ, который требуется удалить.  

3.  На вкладке **Главная** в группе **Свойства** нажмите кнопку **Свойства**.  

4.  Перейдите на вкладку **Расположения содержимого** , выберите точку распространения или группу точек распространения, из которой нужно удалить содержимое, нажмите кнопку **Удалить**, затем нажмите кнопку **ОК**.  

#### <a name="to-remove-package-content-from-distribution-point-properties"></a>Удаление содержимого пакетов из окна свойств точки распространения  

1.  В консоли Configuration Manager щелкните **Администрирование**.  

2.  В рабочей области **Администрирование** щелкните **Точки распространения**, затем выберите точку распространения, в которой нужно удалить содержимое.  

3.  На вкладке **Главная** в группе **Свойства** нажмите кнопку **Свойства**.  

4.  Перейдите на вкладку **Содержимое** , выберите содержимое для удаления, нажмите кнопку **Удалить**, затем нажмите кнопку **ОК**.  

#### <a name="to-remove-content-from-distribution-point-group-properties"></a>Удаление содержимого из окна свойств группы точек распространения  

1.  В консоли Configuration Manager щелкните **Администрирование**.  

2.  В рабочей области **Администрирование** щелкните **Группы точек распространения**, затем выберите группу точек распространения, из которой нужно удалить содержимое.  

3.  На вкладке **Главная** в группе **Свойства** нажмите кнопку **Свойства**.  

4.  Перейдите на вкладку **Содержимое** , выберите содержимое для удаления, нажмите кнопку **Удалить**, затем нажмите кнопку **ОК**.  


### <a name="validate-content"></a>Проверка содержимого
Процесс проверки содержимого определяет целостность файлов содержимого на точках распространения. Проверку содержимого можно назначить с помощью расписания или запустить вручную из свойств точек распространения и пакетов.  

 После запуска процесса проверки содержимого Configuration Manager проверяет файлы содержимого на точках распространения, и если обнаруживается неожиданный хэш у файлов на точке распространения, Configuration Manager создает сообщение о состоянии, которое можно просмотреть в рабочей области **Мониторинг**.  

 Дополнительные сведения о настройке расписания проверки содержимого см. в разделе [Изменение свойств точки распространения](../../../../core/servers/deploy/configure/install-and-configure-distribution-points.md#bkmk_configs) статьи [Настройка управления содержимым в Configuration Manager](../../../../core/servers/deploy/configure/install-and-configure-distribution-points.md).  


#### <a name="to-initiate-content-validation-for-all-content-on-a-distribution-point"></a>Чтобы начать проверку всего содержимого на точке распространения, выполните следующие действия.  

1.  В консоли Configuration Manager щелкните **Администрирование**.  

2.  В рабочей области **Администрирование** щелкните **Точки распространения**, а затем выберите точку распространения, для которой требуется проверить содержимое.  

3.  На вкладке **Главная** в группе **Свойства** нажмите кнопку **Свойства**.  

4.  На вкладке **Содержимое** выберите пакет, в содержимое которого требуется проверить, нажмите кнопку **Проверить**, нажмите кнопку **ОК**, после чего еще раз нажмите **ОК**. Начнется процесс проверки содержимого для пакета на точке распространения.  

5.  Для просмотра результатов процесса проверки содержимого в рабочей области **Мониторинг** разверните узел **Состояние распространения**и щелкните узел **Состояние содержимого** . Будет показано содержимое для каждого типа пакета (например, "Приложение", "Пакет обновления программного обеспечения" и "Загрузочный образ"). Дополнительные сведения о мониторинге состояния содержимого см. в статье [Мониторинг содержимого, распространенного с помощью System Center Configuration Manager](../../../../core/servers/deploy/configure/monitor-content-you-have-distributed.md).  

#### <a name="to-initiate-content-validation-for-a-package"></a>Запуск проверки содержимого пакета  

1.  В консоли Configuration Manager щелкните **Библиотека программного обеспечения**.  

2.  В рабочей области **Библиотека программного обеспечения** выберите один из следующих шагов в зависимости от типа содержимого, которое нужно проверить.  

    -   **Приложения**: разверните узел **Управление приложениями** > **Приложения**, а затем выберите приложение, которое требуется проверить.  

    -   **Пакеты**: разверните узел **Управление приложениями** > **Пакеты**, а затем выберите пакет, который требуется проверить.  

    -   **Пакеты развертывания**: разверните узел **Обновления программного обеспечения** > **Пакеты развертывания**, а затем выберите пакет развертывания, который требуется проверить.  

    -   **Пакеты драйверов**: разверните узел **Операционные системы** > **Пакеты драйверов**, а затем выберите пакет драйверов, который требуется проверить.  

    -   **Образы операционной системы**: разверните узел **Операционные системы** > **Образы операционной системы**, а затем выберите образ операционной системы, который требуется проверить.  

    -   **Установщики операционной системы**: разверните узел **Операционные системы** >  **Установщики операционной системы**, а затем выберите установщик операционной системы, который требуется проверить.  

    -   **Загрузочные образы**: разверните узел **Операционные системы** > **Загрузочные образы**, а затем выберите загрузочный образ, который требуется предварительно подготовить.  

3.  На вкладке **Главная** в группе **Свойства** нажмите кнопку **Свойства**.  

4.  На вкладке **Содержимое** выберите пакет, в содержимое которого требуется проверить, нажмите кнопку **Проверить**, нажмите кнопку **ОК**, после чего еще раз нажмите **ОК**. Начнется процесс проверки содержимого для выбранной точки распространения или группы точек распространения.  

5.  Для просмотра результатов процесса проверки содержимого в рабочей области **Мониторинг** разверните узел **Состояние распространения**и щелкните узел **Состояние содержимого** . Будет показано содержимое для каждого типа пакета (например, "Приложение", "Пакет обновления программного обеспечения" и "Загрузочный образ"). Дополнительные сведения о мониторинге состояния содержимого см. в статье [Мониторинг содержимого, распространенного с помощью System Center Configuration Manager](../../../../core/servers/deploy/configure/monitor-content-you-have-distributed.md).  
