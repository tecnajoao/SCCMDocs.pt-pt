---
title: "Основные принципы управления содержимым | Документация Майкрософт"
description: "Использование средств и параметров в System Center Configuration Manager для управления развертываемым содержимым."
ms.custom: na
ms.date: 05/04/2017
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology: configmgr-other
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: c201be2a-692c-4d67-ac95-0a3afa5320fe
caps.latest.revision: "28"
caps.handback.revision: "0"
author: Brenduns
ms.author: brenduns
manager: angrobe
ms.openlocfilehash: f73dde64e0e8a0fc49f45b3afb3b8f00c926a820
ms.sourcegitcommit: 51fc48fb023f1e8d995c6c4eacfda7dbec4d0b2f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2017
---
# <a name="fundamental-concepts-for-content-management-in-system-center-configuration-manager"></a>Основные принципы управления содержимым в System Center Configuration Manager

*Применимо к: System Center Configuration Manager (Current Branch)*

System Center Configuration Manager поддерживает надежную систему средств и параметров для управления содержимым, развертываемым в виде приложений, пакетов, обновлений программного обеспечения и операционных систем.  

Развертываемое содержимое сохраняется как на серверах сайта, так и на серверах системы сайта точки распространения. Для передачи этого содержимого между расположениями может потребоваться высокая пропускная способность. Для эффективного планирования и использования инфраструктуры управления содержимым рекомендуется разобраться в доступных вариантах и конфигурациях и определить оптимальный способ их использования для удовлетворения потребностей, связанных с сетевой средой и развертыванием содержимого.  

> [!TIP]    
> Дополнительные сведения о процессе распространения содержимого и справочные материалы по диагностированию и устранению общих неполадок, связанных с распространением содержимого, см. в статье [Understanding and Troubleshooting Content Distribution in Microsoft Configuration Manager](https://support.microsoft.com/help/4000401/content-distribution-in-mcm) (Основные сведения о распространении содержимого в Microsoft Configuration Manager и устранение соответствующих неполадок) на сайте support.microsoft.com.

Ниже мы рассмотрим основные понятия, связанные с управлением содержимым. Когда для понимания концепции требуются дополнительные или углубленные сведения, приводятся соответствующие ссылки.

## <a name="accounts-used-for-content-management"></a>Учетные записи, используемые для управления содержимым  
 Для управления содержимым можно использовать следующие учетные записи:  

-   **Учетная запись доступа к сети** — используется клиентами для подключения к точке распространения и доступа к содержимому. По умолчанию клиенты сначала попытаются использовать свою учетную запись компьютера.  

     Эта учетная запись также используется точками распространения по запросу для получения содержимого из исходной точки распространения в удаленном лесу.  

-   **Учетная запись доступа к пакетам** — по умолчанию Configuration Manager предоставляет доступ к содержимому на точке распространения общим учетным записям пользователей и администраторов. Однако вы можете настроить дополнительные разрешения для ограничения доступа.   

-   **Учетная запись многоадресной рассылки** — используется для развертывания операционных систем.  

Дополнительные сведения об этих учетных записях см. в разделе [Управление учетными записями для доступа к содержимому](../../../core/plan-design/hierarchy/manage-accounts-to-access-content.md).

## <a name="bandwidth-throttling-and-scheduling"></a>Планирование и регулирование пропускной способности  
 Планирование и регулирование помогают управлять работой при распространении содержимого с сервера сайта на точки распространения. Эти функции аналогичны элементам управления пропускной способностью для межсайтовой файловой репликации, хотя и не связаны с ними напрямую.  

 Дополнительные сведения см. в разделе [Управление пропускной способностью сети](/sccm/core/plan-design/hierarchy/manage-network-bandwidth).

## <a name="binary-differential-replication"></a>Двоичная дифференциальная репликация  
 Двоичная дифференциальная репликация (BDR), которая также называется дельта-репликацией и является необходимым условием для точек распространения, используется автоматически для сокращения использования полосы пропускания при распространении обновлений для содержимого, которое ранее было развернуто на других сайтах, или на удаленную точку распространения.  

 С помощью BDR минимизируется полоса пропускания сети, используемая при отправке обновлений для распространения содержимого, за счет повторной отправки только нового или измененного содержимого вместо отправки всего набора исходных файлов содержимого при каждом внесении изменений в эти файлы.  

 При использовании двоичной дифференциальной репликации Configuration Manager определяет имеющиеся изменения в исходных файлах для каждого набора ранее распространявшегося содержимого.  

-   При изменении файлов исходного содержимого Configuration Manager создает новую добавочную версию набора содержимого и реплицирует только измененные файлы на конечные сайты или точки распространения. Файл считается измененным, если он был переименован, перемещен или изменилось его содержимое. Например, если заменяется файл одного из драйверов для пакета развертывания операционной системы, который был ранее распространен на несколько сайтов, на эти конечные сайты реплицируется только только измененный файл драйвера.  

-   Configuration Manager поддерживает до 5 добавочных версий набора содержимого перед отправкой его целиком. После пятого обновления при внесении следующего изменения в набор содержимого Configuration Manager создает новую версию набора содержимого. Configuration Manager затем распространяет новую версию набора содержимого для замены предыдущего набора и всех его добавочных версий. После распространения нового набора содержимого последующие добавочные изменения в исходных файлах снова будут реплицироваться с помощью двоичной дифференциальной репликации.  


BDR поддерживается между каждым родительским и дочерним сайтом в иерархии. На уровне сайта BDR поддерживается между сервером сайта и его точками регулярного распространения. Тем не менее точки распространения по запросу и облачные точки распространения не поддерживают двоичную дифференциальную репликацию для перемещения содержимого. Точки распространения по запросу поддерживают разность на файловом уровне, перемещая новые файлы,но не отдельные блоки в файле.

Приложения всегда используют двоичную дифференциальную репликацию. Для пакетов двоичная дифференциальная репликация является необязательной и по умолчанию не включается. Чтобы использовать двоичную дифференциальную репликацию для пакетов, необходимо включить эту функциональность для каждого пакета. Для этого выберите параметр **Включить двоичную дифференциальную репликацию** при создании нового пакета или при внесении изменений на вкладке **Источник данных** свойств пакета.  

## <a name="branchcache"></a>BranchCache,  
 Технология Windows, которая позволяет клиентам, поддерживающим BranchCache и скачавшим развертывание, настроенное для BranchCache, выступать в качестве источника содержимого для других клиентов с поддержкой BranchCache.  

 Например, если первый клиентский компьютер с включенной функцией BranchCache запрашивает содержимое из точки распространения, которая работает под управлением Windows Server 2012 и настроена в качестве сервера BranchCache, клиентский компьютер скачивает содержимое и выполняет его кэширование.  

-   Затем данный клиентский компьютер может предоставить доступ к этому содержимому другим клиентам с поддержкой BranchCache в той же подсети, которые также кэшируют данное содержимое.  

-   Таким образом последующим клиентам в этой подсети не требуется загружать содержимое из точки распространения; содержимое распространяется между клиентами для дальнейшей передачи.  

## <a name="peer-cache"></a>Одноранговый кэш
Начиная с версии 1610 одноранговый кэш клиента помогает управлять развертыванием содержимого на клиентах в удаленных расположениях. Одноранговый кэш — это встроенное решение Configuration Manager, которое позволяет клиентам делиться содержимым с другими клиентами непосредственно из своего локального кэша.

После развертывания клиентских параметров, включающих одноранговый кэш в коллекции, члены этой коллекции могут выступать в качестве источника однорангового содержимого для других клиентов в той же группе границ.

Дополнительные сведения см. в разделе [Одноранговый кэш для клиентов Configuration Manager](/sccm/core/plan-design/hierarchy/client-peer-cache).


## <a name="windows-pe-peer-cache"></a>Одноранговый кэш среды предустановки Windows
При развертывании новой операционной системы в System Center Configuration Manager компьютеры, на которых выполняется последовательность задач, могут использовать одноранговый кэш среды предустановки Windows для получения содержимого из локального узла (источника однорангового кэша) вместо загрузки содержимого из точки распространения. Это позволяет уменьшить объем трафика глобальной сети (WAN) в сценариях с филиалами, где локальные точки распространения отсутствуют.

Дополнительные сведения см. в разделе [Одноранговый кэш среды предустановки Windows](../../../osd/get-started/prepare-windows-pe-peer-cache-to-reduce-wan-traffic.md).


## <a name="client-locations"></a>Расположения клиентов  
 Ниже перечислены расположения, из которых клиенты могут осуществлять доступ к содержимому:  

-   **Интрасеть** (локальная среда).  

    -   Точки распространения могут использовать HTTP или HTTPS.  

    -   Используйте облачную точку распространения только в качестве резервной на случай, когда локальные точки распространения недоступны.  

-   **Интернет**.  

    -   Требует, чтобы точки распространения принимали данные по протоколу HTTPS.  

    -   Облачную точку распространения можно использовать в качестве резервной.  

-   **Рабочая группа**.  

    -   Требует, чтобы точки распространения принимали данные по протоколу HTTPS.  

    -   Облачную точку распространения можно использовать в качестве резервной.  



## <a name="content-library"></a>Библиотека содержимого  
 Библиотека содержимого — это хранилище единственных копий содержимого, которое Configuration Manager использует, чтобы уменьшить общий размер распространяемого содержимого.  

- Дополнительные сведения о [библиотеке содержимого](../../../core/plan-design/hierarchy/the-content-library.md).
- Чтобы удалить содержимое, которое уже не связано с приложением, используйте [средство очистки библиотеки содержимого](/sccm/core/plan-design/hierarchy/content-library-cleanup-tool).  


## <a name="distribution-points"></a>точки распространения;  
 Configuration Manager использует точки распространения для хранения файлов, необходимых для работы программного обеспечения на клиентских компьютерах. Клиенты должны иметь доступ хотя бы к одной точке распространения, из которой они смогут скачивать файлы для развертываемого содержимого.  

 Базовая (неспециализированная) точка распространения обычно называется стандартной точкой распространения. Существует два варианта стандартной точки распространения, на которые следует обратить особое внимание.  

-   **Точка распространения по запросу** — разновидность точки распространения, когда она получает содержимое с другой точки распространения (исходной точки распространения). Этот процесс аналогичен скачиванию содержимого из точки распространения клиентами. Использование точек распространения по запросу поможет устранить узкие места пропускной способности сети, которые могут возникать, когда серверу сайта необходимо напрямую распространить содержимое в каждую точку распространения.  [Использование точки распространения по запросу в System Center Configuration Manager](/sccm/core/plan-design/hierarchy/use-a-pull-distribution-point)

-   **Облачная точка распространения** — разновидность точки распространения, установленной в Microsoft Azure. [Сведения об использовании облачной точки распространения в System Center Configuration Manager](../../../core/plan-design/hierarchy/use-a-cloud-based-distribution-point.md).  


Стандартные точки распространения поддерживают широкий спектр конфигураций и функций, таких как регулирование, планирование, PXE и многоадресная рассылка или предварительно подготовленное содержимое.  

-   Можно использовать такие средства управления, как **расписания** или **регулирование полосы пропускания**, упрощающие управление этой передачей.  

-   Можно также использовать другие возможности, в том числе **предварительно подготовленное содержимое** и **точки распространения по запросу**. Кроме того, можно воспользоваться компонентом **BranchCache** для снижения пропускной способности сети, используемой при развертывании содержимого.  

-   Точки распространения поддерживают различные конфигурации, такие как **[PXE](../../../osd/get-started/prepare-site-system-roles-for-operating-system-deployments.md#BKMK_PXEDistributionPoint)** и **[многоадресная рассылка](../../../osd/get-started/prepare-site-system-roles-for-operating-system-deployments.md#BKMK_DPMulticast)** для развертывания операционных систем, и конфигурации для поддержки **мобильных устройств**.  

 Облачные точки распространения и точки распространения по запросу поддерживают многие из таких конфигураций, но на отдельные виды точек распространения налагаются определенные ограничения.  

## <a name="distribution-point-groups"></a>Группы точек распространения  
 Группы точек распространения — это логические группировки точек распространения, позволяющие упростить распространение содержимого.  

 Дополнительные сведения см. в разделе [Управление группами точек распространения](../../../core/servers/deploy/configure/install-and-configure-distribution-points.md#bkmk_manage).

## <a name="distribution-point-priority"></a>Приоритет точки распространения  
 Значение приоритета точки распространения зависит от того, сколько времени заняла передача предыдущих развертываний в эту точку распространения.  

-   Это самонастраивающееся значение, назначаемое точке распространения, помогает Configuration Manager быстрее передавать содержимое на большее количество точек распространения.  

-   При распространении содержимого на несколько точек или на группу распространения одновременно Configuration Manager сначала отправляет содержимое на точку распространения с наивысшим приоритетом.  

-   Оно не заменяет собой приоритет распространения для пакетов, который остается решающим фактором в определении последовательности передачи различных распространений.  


Например, при распространении содержимого с высоким приоритетом в точку распространения с низким приоритетом пакет с высоким приоритетом всегда передается раньше, чем пакет с более низким приоритетом. Приоритет распространения применяется, даже если пакеты с более низким приоритетом распространяется в точки распространения с более высоким приоритетом.

Высокий приоритет распространения пакета гарантирует, что Configuration Manager распространит его содержимое в соответствующие точки распространения перед отправкой каких-либо пакетов с более низким приоритетом распространения.  

> [!NOTE]  
>  Точки распространения по запросу также используют принцип приоритета для упорядочения последовательности своих исходных точек распространения.  
>   
>  -   Приоритет точки распространения по запросу для передачи содержимого в точку распространения отличается от приоритета, который точка распространения по запросу использует при поиске содержимого в исходных точках распространения.  
>  -   Дополнительные сведения см. в разделе [Использование точки распространения по запросу в System Center Configuration Manager](/sccm/core/plan-design/hierarchy/use-a-pull-distribution-point).  


## <a name="fallback"></a>Резервирование  
 Начиная с версии 1610 изменился ряд принципов поиска клиентами точки распространения с содержимым, включая откат. Ознакомьтесь с приведенными ниже сведениями для используемой версии.

**Версия 1610 и более поздние**   
Клиенты, которым не удается найти содержимое в точке распространения, связанной с текущей группой границ, могут выполнить откат для использования источников содержимого, связанных с соседними группами границ. Чтобы соседняя группа границ использовалась для отката, должна быть определена ее связь с текущей группой границ клиента. Эта связь включает заданное время, по истечении которого клиент, не нашедший локальное содержимое, может включить в поиск источники содержимого из соседней группы границ.

Концепция предпочтительных точек распространения больше не используется, а параметры **Разрешить резервные источники содержимого** больше недоступны и не применяются.

Дополнительные сведения см. в разделе [Группы границ](/sccm/core/servers/deploy/configure/define-site-boundaries-and-boundary-groups#boundary-groups).


**Версии 1511, 1602 и 1606**   
Параметры резервирования связаны с использованием **предпочтительных точек распространения** и с расположением источника содержимого, которые используются клиентами.

-   По умолчанию клиенты скачивают содержимое только из предпочтительной точки распространения (которая сопоставлена с группами границ клиента).  

-   Тем не менее, когда точка распространения настраивается с использованием параметра **Разрешить клиентам использовать эту систему сайта в качестве резервного источника содержимого**, она используется только в качестве действительного источника содержимого для любого клиента, которому не удается получить развертывание в одной из предпочтительных точек распространения.  


Сведения о различных сценариях расположения и резервирования содержимого см. в разделе [Сценарии расположения источника содержимого](../../../core/plan-design/hierarchy/content-source-location-scenarios.md). Сведения о группах границ см. в разделе [Группы границ для версий 1511, 1602 и 1606](/sccm/core/servers/deploy/configure/boundary-groups-for-1511-1602-and-1606).

## <a name="network-bandwidth"></a>Пропускная способность сети  
 Чтобы управлять размером полосы пропускания сети, используемой при распространении контента, можно использовать следующие параметры.  

-   **Предварительно подготовленное содержимое.** Процесс передачи содержимого в точку распространения, позволяющий не полагаться на распространение содержимого по сети с помощью Configuration Manager.  

-   **Планирование и регулирование.** Конфигурации, помогающие контролировать время и способ распространения содержимого в точки распространения.  

Дополнительные сведения см. в разделе [Управление пропускной способностью сети](/sccm/core/plan-design/hierarchy/manage-network-bandwidth).

## <a name="network-connection-speed-to-content-source"></a>Скорость сетевого подключения к источнику содержимого  
Начиная с версии 1610, изменился ряд принципов поиска клиентами точки распространения с содержимым, включая скорость сетевого подключения к источнику содержимого. Ознакомьтесь с приведенными ниже сведениями для используемой версии.

**Версия 1610 и более поздние**   
Скорости сетевых подключений, определяющие точку распространения как **быструю** или **медленную**, больше не используются. Теперь каждая система сайта, связанная с группой границ, обрабатывается одинаково.

Дополнительные сведения см. в разделе [Группы границ](/sccm/core/servers/deploy/configure/define-site-boundaries-and-boundary-groups#boundary-groups).


**Версии 1511, 1602 и 1606**   
 Существует возможность настройки скорости сетевого подключения каждой точки распространения в группе границ:  

-   Клиенты используют это значение при подключении к точке распространения.

-   По умолчанию для скорости сетевого подключения задано значение **Быстрое**, но его можно изменить на **Медленное**.  

-   **Скорость сетевого подключения** и конфигурация развертываний определяют возможность скачивания клиентом содержимого из точки распространения, если клиент находится в связанной группе границ.  

Сведения о различных сценариях расположения и резервирования содержимого см. в разделе [Сценарии расположения источника содержимого](../../../core/plan-design/hierarchy/content-source-location-scenarios.md). Сведения о группах границ см. в разделе [Группы границ для версий 1511, 1602 и 1606](/sccm/core/servers/deploy/configure/boundary-groups-for-1511-1602-and-1606).

## <a name="on-demand-content-distribution"></a>Распространение содержимого по запросу  
 Распространение содержимого по запросу можно использовать для отдельных приложений и пакетов (развертываний), чтобы включить распространение содержимого по запросу в предпочтительные точки распространения.  

-   Чтобы использовать данную функцию для развертывания, включите параметр **Распространять содержимое этого пакета в предпочтительные точки распространения**.  

-   Если этот параметр включен для развертывания и клиент пытается запросить содержимое, но оно недоступно на всех предпочтительных точках распространения клиентов, Configuration Manager автоматически распространяет это содержимое в предпочтительные точки распространения клиентов.  

-   Хотя это вынуждает Configuration Manager автоматически распространять содержимое на эти предпочтительные точки распространения клиентов, клиент может получить данное содержимое из других точек распространения до того, как развертывание получат предпочтительные точки распространения этого клиента. В данном случае содержимое на этой точке распространения затем будет предоставлено следующему клиенту, который ищет это развертывание.  

Если вы используете версию 1610 или более позднюю, см. раздел [Группы границ](/sccm/core/servers/deploy/configure/define-site-boundaries-and-boundary-groups#boundary-groups).
Сведения о различных сценариях расположения и резервирования содержимого при использовании версии 1511, 1602 или 1606 см. в разделе [Сценарии расположения источника содержимого](../../../core/plan-design/hierarchy/content-source-location-scenarios.md).  



## <a name="package-transfer-manager"></a>Диспетчер передачи пакетов  
 Диспетчер передачи пакетов — это компонент сервера сайта, передающий содержимое в точки распространения на других компьютерах.  

 Дополнительные сведения о [диспетчере передачи пакетов](../../../core/plan-design/hierarchy/package-transfer-manager.md).  

## <a name="preferred-distribution-point"></a>Предпочтительная точка распространения  
 Предпочтительные точки распространения включают в себя все точки распространения, которые сопоставлены с текущими группами границ клиента.  

 У вас есть возможность сопоставить каждую точку распространения с одной или несколькими группами границ:  

-   Такое сопоставление помогает клиенту определить те точки распространения, с которых он может скачивать содержимое.  
-   По умолчанию клиенты могут скачивать только из предпочтительной точки распространения.  


Дополнительные сведения:
 - Если вы используете версию 1610 или более позднюю, см. раздел [Группы границ](/sccm/core/servers/deploy/configure/define-site-boundaries-and-boundary-groups#boundary-groups).
 - Если вы используете версию 1511, 1602 или 1606, см. статью [Сценарии расположения источника содержимого](../../../core/plan-design/hierarchy/content-source-location-scenarios.md).

## <a name="prestage-content"></a>Предварительная подготовка содержимого  
 Использование предварительно подготовленного содержимого — это процесс передачи содержимого в точку распространения, позволяющий не полагаться на распространение содержимого по сети с помощью Configuration Manager.  

 Дополнительные сведения см. в разделе [Управление пропускной способностью сети](/sccm/core/plan-design/hierarchy/manage-network-bandwidth).
