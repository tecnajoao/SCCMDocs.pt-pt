---
title: "Настройка портов связи для клиентов | Документы Майкрософт"
description: "Настройка портов связи для клиентов в System Center Configuration Manager."
ms.custom: na
ms.date: 04/23/2017
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology: configmgr-client
ms.tgt_pltfrm: na
ms.topic: get-started-article
ms.assetid: 406bbdbf-ab4a-4121-a68b-154f96ea14ec
caps.latest.revision: "5"
caps.handback.revision: "0"
author: robstack
ms.author: robstackmsft
manager: angrobe
ms.openlocfilehash: 63e033fdb436930ac5f37e7408ca9292bc444560
ms.sourcegitcommit: 51fc48fb023f1e8d995c6c4eacfda7dbec4d0b2f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2017
---
# <a name="how-to-configure-client-communication-ports-in-system-center-configuration-manager"></a>Настройка портов связи для клиентов в System Center Configuration Manager

*Применимо к: System Center Configuration Manager (Current Branch)*

Можно изменить номера портов запросов, используемые клиентами System Center Configuration Manager для обмена данными с системами сайта, работающими по протоколам HTTP и HTTPS. Хотя HTTP или HTTPS, скорее всего, будут уже настроены для брандмауэров, уведомление клиента, которое использует HTTP или HTTPS, требует больше ресурсов ЦП и памяти на компьютере точки управления, чем при использовании настраиваемого порта. Также можно указать номер порта сайта, который должен использоваться при пробуждении клиентов с помощью обычных wake-up пакетов.  

 При настройке портов для запросов по протоколам HTTP и HTTPS можно указать номер порта, используемый по умолчанию, а также альтернативный номер порта. Клиенты автоматически переключаются на альтернативный порт, если не удается осуществить обмен данными через порт, используемый по умолчанию. Можно указать параметры обмена данными по протоколам HTTP и HTTPS.  

 По умолчанию для запросов клиентов используются  порты **80** (для трафика HTTP) и **443** (для трафика HTTPS). Изменяйте их только в том случае, если вы не хотите использовать значения по умолчанию. Распространен сценарий, когда пользовательские порты используются для пользовательского веб-сайта IIS, которым был заменен веб-сайт по умолчанию. Если изменить порты по умолчанию для веб-сайта IIS, используемого по умолчанию, и если другие приложения также используют этот веб-сайт, работа этих приложений, скорее всего, будет нарушена.  

> [!IMPORTANT]  
>  Не следует изменять номера портов, которые используются Configuration Manager, если последствия этих действий ясны не до конца. Примеры:  
>   
>  -   Если изменить номера портов для служб запросов клиентов в рамках конфигурации сайта, а существующие клиенты не будут перенастроены на новые порты, управление такими клиентами станет невозможным.  
> -   Перед тем как указывать номера портов, отличные от используемых по умолчанию, убедитесь, что брандмауэры и все задействованные сетевые устройства поддерживают такую конфигурацию и при необходимости настройте их соответствующим образом. Если вы собираетесь управлять клиентами в Интернете и при этом измените порт HTTPS 443, установленный по умолчанию, маршрутизаторы и брандмауэры в Интернете могут заблокировать обмен данными.  

 Чтобы не потерять управление над клиентами после изменения номеров портов запросов, необходимо настроить клиенты на использование новых портов. При изменении портов запросов для первичного сайта все связанные вторичные сайты автоматически унаследуют новую конфигурацию портов. Используйте процедуру, описываемую в этом разделе, чтобы настроить порты запросов на первичном сайте.  

> [!NOTE]  
>  Сведения о том, как настроить порты запросов для клиентов на компьютерах под управлением Linux и UNIX, см. в статье [Настройка портов запроса для клиента для Linux и UNIX](../../../core/clients/deploy/deploy-clients-to-unix-and-linux-servers.md#BKMK_ConfigLnUClientCommuincations).  

 Если сайт Configuration Manager опубликован в доменных службах Active Directory, новые и существующие клиенты, которым доступны опубликованные сведения, будут автоматически настроены на использование новых портов, и при этом их дальнейшая настройка не потребуется. Клиенты, не имеющие доступа к данным сведениям, опубликованным в доменных службах Active Directory, — это, в частности, клиенты из рабочей группы, клиенты из другого леса Active Directory, клиенты, настроенные на работу только в Интернете, а также клиенты, расположенные в настоящий момент в Интернете. Если изменить порты, используемые по умолчанию, после установки этих клиентов, переустановите клиенты и в дальнейшем устанавливайте новые клиенты одним из следующих способов.  

-   Переустановка клиентов с помощью мастера принудительной установки клиентов. При автоматической принудительной установке клиенты настраиваются согласно текущей конфигурации портов сайта. Дополнительные сведения об использовании мастера принудительной установки клиентов см. в статье [Принудительная установка клиентов Configuration Manager](../../../core/clients/deploy/deploy-clients-to-windows-computers.md#BKMK_ClientPush).  

-   Переустановите клиенты, используя CCMSetup.exe и свойства CCMHTTPPORT и CCMHTTPSPORT программы установки client.msi. Дополнительные сведения об этих параметрах см. в статье [Сведения о свойствах установки клиента в System Center Configuration Manager](../../../core/clients/deploy/about-client-installation-properties.md).  

-   Переустановите клиенты, используя метод, при котором осуществляется поиск свойств установки клиентов Configuration Manager в доменных службах Active Directory. Дополнительные сведения см. в статье [О свойствах установки клиента, публикуемых в доменных службах Active Directory в System Center Configuration Manager](../../../core/clients/deploy/about-client-installation-properties-published-to-active-directory-domain-services.md).  

 Чтобы изменить номера портов для существующих клиентов, можно также использовать сценарий PORTSWITCH.VBS, предоставляемый на установочном носителе в папке SMSSETUP\Tools\PortConfiguration .  

> [!IMPORTANT]  
>  Для существующих и новых клиентов, расположенных в данный момент в Интернете, необходимо настроить порты, отличные от используемых по умолчанию, используя свойства CCMHTTPPORT и CCMHTTPSPORT программы установки client.msi CCMSetup.exe.  

 После изменения портов запросов на сайте новые клиенты, устанавливаемые посредством принудительной установки в масштабе сайта, будут автоматически настроены на использование текущих портов сайта.  

#### <a name="to-configure-the-client-communication-port-numbers-for-a-site"></a>Чтобы настроить порты для соединения с клиентами на сайте  

1.  В консоли Configuration Manager щелкните **Администрирование**.  

2.  В рабочей области **Администрирование** разверните узел **Конфигурация сайта**, щелкните узел **Сайты**и выберите первичный сайт для настройки.  

3.  На вкладке **Главная** выберите **Свойства**, после чего откройте вкладку **Порты** .  

4.  Выберите любой из элементов и щелкните значок "Свойства", чтобы отобразить диалоговое окно **Сведения о порте** .  

5.  В диалоговом окне **Сведения о порте** укажите номер порта и описание элемента, после чего нажмите кнопку **ОК**.  

6.  Выберите **Использовать настраиваемый администратором веб-сайт** , если вы будете использовать имя настраиваемого веб-сайта **SMSWeb** для систем сайта, использующих IIS.  

7.  Нажмите кнопку **ОК** , чтобы закрыть диалоговое окно свойств сайта.  

 Повторите эту процедуру для всех первичных сайтов в иерархии.
