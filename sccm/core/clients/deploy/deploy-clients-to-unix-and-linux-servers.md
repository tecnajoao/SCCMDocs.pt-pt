---
title: "Развертывание клиентов для UNIX и Linux | Документы Майкрософт"
description: "Узнайте, как развернуть клиент на сервере UNIX или Linux в System Center Configuration Manager."
ms.custom: na
ms.date: 04/23/2017
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology: configmgr-client
ms.tgt_pltfrm: na
ms.topic: get-started-article
ms.assetid: 15a4e323-9f42-4fea-bb14-f2b905d1f77c
caps.latest.revision: "9"
author: robstackmsft
ms.author: robstack
manager: angrobe
ms.openlocfilehash: d61d53daa5ef3d9c986cba8791d4471fea94d29d
ms.sourcegitcommit: 51fc48fb023f1e8d995c6c4eacfda7dbec4d0b2f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2017
---
# <a name="how-to-deploy-clients-to-unix-and-linux-servers-in-system-center-configuration-manager"></a>Развертывание клиентов на серверах UNIX и Linux в System Center Configuration Manager

*Применимо к: System Center Configuration Manager (Current Branch)*

Прежде чем управлять сервером UNIX или Linux с помощью System Center Configuration Manager, необходимо установить клиент Configuration Manager для Linux и UNIX на каждом сервере UNIX или Linux. Можно выполнить установку клиента вручную на каждом компьютере или воспользоваться сценарием оболочки, который устанавливает клиент удаленно. Configuration Manager не поддерживает использование принудительной установки клиента для серверов UNIX или Linux. При необходимости можно настроить модуль Runbook для System Center Orchestrator на автоматизацию установки клиента на серверах UNIX или Linux.  

 Независимо от используемого метода установки процесс установки требует применения сценария с именем **install** для управления процессом установки. Этот скрипт включается при загрузке клиент для Linux и UNIX.  

 Скрипт установки для клиента Configuration Manager для Linux и UNIX поддерживает свойства командной строки. Некоторые свойства командной строки требуются другие являются необязательными. Например при установке клиента, необходимо указать точку управления с сайта, используемый для начальной контактов с сайта на сервере UNIX или Linux. Полный список свойств командной строки см. в статье [Свойства командной строки для установки клиента на серверах UNIX и Linux](#BKMK_CmdLineInstallLnUClient).  

 После установки клиента можно указать параметры клиента в консоли Configuration Manager, чтобы настроить агент клиента по аналогии с клиентами на основе Windows. Дополнительные сведения см. в разделе [Параметры клиента для серверов Linux и UNIX](../../../core/clients/manage/manage-clients-for-linux-and-unix-servers.md#BKMK_ClientSettingsforLnU).  

##  <a name="BKMK_AboutInstallPackages"></a> О пакетах установки клиента и универсальном агенте  
 Чтобы установить клиент для Linux и UNIX на определенной платформе, необходим подходящий пакет установки клиента для компьютера, где выполняется установка клиента. Соответствующие пакеты установки клиента входят в состав файлов, скачиваемых из [Центра загрузки Майкрософт](http://go.microsoft.com/fwlink/?LinkID=525184). Помимо пакетов установки клиента скачиваемые файлы содержат сценарий **install** , который управляет установкой клиента на каждом компьютере.  

 При установке клиента, можно использовать те же свойства процесса и командной строки, независимо от используемого пакета установки.  

 Сведения об операционных системах, платформах и пакетах установки клиента, поддерживаемых каждым выпуском клиента Configuration Manager для Linux и UNIX, см. в разделе [Серверы Linux и UNIX](/sccm/core/plan-design/configs/supported-operating-systems-for-clients-and-devices#linux-and-unix-servers).  

##  <a name="BKMK_InstallLnUClient"></a> Установка клиента на серверах UNIX и Linux  
 Чтобы установить клиент для Linux и UNIX, запустите сценарий на каждом компьютере UNIX или Linux. Сценарий называется **установки** и поддерживает свойства командной строки, изменяющие поведение установки и ссылаются на пакет установки клиента. Установочный пакет установки сценарий и клиент должен быть расположен на клиенте. Пакет установки клиента содержит файлы клиента Configuration Manager для конкретной операционной системы UNIX или Linux и платформы.
Каждый пакет установки клиента содержит все файлы, необходимые для завершения установки клиента и в отличие от компьютеров под управлением Windows, не загружать дополнительные файлы из точки управления или другие расположения источника.  

 После установки клиента Configuration Manager для Linux и UNIX перезагружать компьютер не требуется. Сразу после установки программного обеспечения клиента работает. При перезагрузке компьютера клиент Configuration Manager автоматически перезапускается.  

 Установленного клиента выполняется с учетными данными корневой. Корневые учетные данные необходимы для сбора данных инвентаризации оборудования и выполнения развертываний программного обеспечения.  

 Команда имеет следующий формат:  

 **./install -mp &lt;компьютер\> -sitecode &lt;код_сайта\> &lt;свойство 1> &lt;свойство 2> &lt;пакет_установки_клиента\>**  

-   **установки** имя файла скрипта, который устанавливает клиент для Linux и UNIX. Этот файл входит в состав клиентского программного обеспечения.  

-   **-mp &lt;компьютер** указывает начальную точку управления, используемую клиентом.  

     Пример: smsmp.contoso.com  

-   **-sitecode &lt;код_сайта\>** указывает код сайта, которому будет назначен клиент.  

     Пример: S01  

-   &lt;свойство 1> &lt;свойство 2> указывает свойства командной строки для использования со скриптом установки.  

    > [!NOTE]  
    >  Дополнительные сведения см. в статье [Свойства командной строки для установки клиента на серверах UNIX и Linux](#BKMK_CmdLineInstallLnUClient)  

-   **пакет установки клиента** — это имя TAR-пакета установки клиента для версии операционной системы и архитектуры ЦП на данном компьютере. Последний должен быть указан .tar файла установки клиента.  

     Пример: ccm-Universal-x64.&lt;сборка\>.tar  

###  <a name="BKMK_ToInstallLnUClinent"></a> Чтобы установить клиент Configuration Manager на серверах Linux и UNIX  

1.  На компьютере Windows [скачайте файл соответствующего клиента для сервера Linux или UNIX](http://go.microsoft.com/fwlink/?LinkID=525184) , которым хотите управлять.  

2.  Запустите самоизвлекающийся EXE-файл на компьютере Windows, чтобы извлечь сценарий установки и TAR-файл установки клиента.  

3.  Скопируйте сценарий **установки** и TAR-файл в папку на сервере, которым требуется управлять.  

4.  На сервере UNIX или Linux выполните следующую команду, чтобы разрешить выполнение сценария в качестве программы: **chmod +x install**  

    > [!IMPORTANT]  
    >  Для установки клиента необходимо использовать учетные данные суперпользователя.  

5.  Затем выполните следующую команду для установки клиента Configuration Manager: **./install -mp &lt;имя_узла\> -sitecode &lt;код\> ccm-Universal-x64.&lt;сборка\>.tar**  

     При вводе этой команды используйте дополнительные свойства командной строки, потребуется.  Список свойств командной строки см. в статье [Свойства командной строки для установки клиента на серверах UNIX и Linux](#BKMK_CmdLineInstallLnUClient).  

6.  После выполнения сценария проверьте установку, просмотрев файл **/var/opt/microsoft/scxcm.log** . Кроме того, вы можете убедиться в том, что клиент установлен и взаимодействует с сайтом, просмотрев сведения о клиенте в узле **Устройства** рабочей области **Активы и соответствие** консоли Configuration Manager.  

###  <a name="BKMK_CmdLineInstallLnUClient"></a> Свойства командной строки для установки клиента на серверах UNIX и Linux  
 Для изменения режима сценария установки доступны перечисленные ниже свойства.  

> [!NOTE]  
>  Используйте свойство **-h** для отображения этого списка поддерживаемых свойств.  

-   **-mp &lt;полное доменное имя сервера\>**  

     Обязательно. Задает полное доменное имя, сервера точки управления, клиент будет использовать в качестве начальной точки контакта.  

    > [!IMPORTANT]  
    >  Это свойство не указывает точку управления, которой этот клиент будет назначен после установки.  

    > [!NOTE]  
    >  При использовании свойства **-mp** для указания точки управления, настроенной для приема подключений клиентов только по протоколу HTTPS, необходимо также использовать свойство **-UsePKICert** .  

-   **-sitecode &lt;код_сайта\>**  

     Обязательно. Задает первичный сайт Configuration Manager, которому должен быть назначен клиент Configuration Manager.  

     Пример: -sitecode S01  

-   **-fsp &lt;полное_доменное_имя_сервера>**  

     Необязательный параметр. Задает полное доменное имя, клиент использует для отправки сообщения о состоянии сервера точки состояния отката.  

     Дополнительные сведения о резервной точке состояния см. в разделе [Определение необходимости резервной точки состояния](/sccm/core/clients/deploy/plan/determine-the-site-system-roles-for-clients#determine-if-you-need-a-fallback-status-point).  


-   **-dir &lt;каталог\>**  

     Необязательный параметр. Указывает альтернативное расположение для установки файлов клиента Configuration Manager.  

     По умолчанию клиент устанавливается в следующем расположении: **/opt/microsoft**.  

-   **-nostart**  

     Необязательный параметр. Предотвращает автоматический запуск службы клиента Configuration Manager — **ccmexec.bin** — после завершения установки клиента.  

     После установки клиента, необходимо запустить службу клиента вручную.  

     По умолчанию после завершения установки клиента и перезагрузки компьютера при каждом запуске службы клиента.  

-   **-очистки**  

     Необязательный параметр. Задает удаление всех файлов клиента и данные из ранее установленного клиента для Linux и UNIX, перед началом установки новой. При этом удаляется база данных и хранилище сертификатов клиента.  

-   **-keepdb**  

     Необязательный параметр. Указывает, что базы данных локального клиента сохраняются и используются всякий раз при переустановке клиента. По умолчанию при переустановке клиента удаляется этой базы данных.  

-   **-UsePKICert &lt;параметр\>**  

     Необязательный параметр. Указывает полный путь и имя файла для сертификатов инфраструктуры открытого ключа X.509 в формате стандарта сертификата открытого ключа (PKCS #12). Этот сертификат используется для проверки подлинности клиента. Если сертификат не указан во время установки и вам нужно добавить или изменить сертификат, используйте служебную программу **certutil** . Информацию о служебной программе certutil см. в разделе [Управление сертификатами на клиенте для Linux и UNIX](../../../core/clients/manage/manage-clients-for-linux-and-unix-servers.md#BKMK_ManageLinuxCerts).  

     При использовании **-UsePKICert**необходимо указать пароль, связанный с файлом PKCS#12, с помощью параметра командной строки **-certpw** .  

     Если это свойство не используется для указания PKI-сертификат, клиент использует самозаверяющий сертификат, и все соединения с системами сайта осуществляются по протоколу HTTP.  

     Если указан недопустимый сертификат на клиенте установить командной строки, ошибки не возвращаются. Это вызвано проверки сертификата происходит после установки клиента. При запуске клиента, используется для проверки сертификатов с точкой управления и если сертификат не проходит проверку появится следующее сообщение в **scxcm.log**, файл журнала клиента Configuration Manager для Linux и Unix: **Не удалось проверить сертификат для точки управления**. Расположение файла журнала по умолчанию:  **/var/opt/microsoft/scxcm.log**.  

    > [!NOTE]  
    >  Это свойство необходимо указывать при установке клиента вручную и использовать свойство **-mp** для указания точки управления, настроенной на принятие подключений клиентов только по протоколу HTTP.  

     Пример: -UsePKICert &lt;полный путь и имя файла\> -certpw &lt;пароль\>  

-   **-certpw &lt;параметр\>**  

     Необязательный параметр. Указывает пароль, связанный с файлом PKCS #12, указанной с помощью **- UsePKICert** свойства.  

     Пример: -UsePKICert &lt;полный путь и имя файла\> -certpw &lt;пароль\>  

-   **-NoCRLCheck**  

     Необязательный параметр. Указывает, что клиент не должен проверять список отзыва сертификатов (CRL) при соединении по протоколу HTTPS, с помощью сертификатов PKI. Если этот параметр не указан, клиент проверяет список отзыва Сертификатов перед установкой соединения HTTPS с помощью сертификатов PKI. Дополнительные сведения о проверке списка отзыва Сертификатов см. Планирование отзыва сертификатов PKI.  

     Пример: -UsePKICert &lt;полный путь и имя файла\> -certpw &lt;пароль\> -NoCRLCheck  

-   **-rootkeypath &lt;расположение файла\>**  

     Необязательный параметр. Указывает полный путь и имя файла для корневого ключа доверия Configuration Manager. Корневой ключ доверия Configuration Manager предоставляет механизм, позволяющий клиентам Linux и UNIX удостовериться в том, что они подключены к системе сайта, относящейся к правильной иерархии.  

     Если не указать доверенный корневой ключ в командной строке, клиент будет доверять первой точке управления, к которой он обращается, и автоматически получит доверенный корневой ключ из этой точки управления.  

     Дополнительные сведения см. в разделе [Планирование доверенного корневого ключа](../../../core/plan-design/security/plan-for-security.md#BKMK_PlanningForRTK).  

     Пример: -rootkeypath &lt;полный путь и имя файла\>  

-   **-httpport &lt;порт\>**  

     Необязательный параметр. Указывает порт, который настроен в точках управления, которые используются при связи с точки управления по протоколу HTTP. Если порт не указан, используется значение по умолчанию 80.  

     Пример: - httpport 80  

-   **-httpsport &lt;порт\>**  

     Необязательный параметр. Указывает порт, который настроен в точках управления, которые используются при связи с точки управления по протоколу HTTPS. Если порт не указан, используется значение по умолчанию 443.  

     Пример: -UsePKICert &lt;полный путь и имя сертификата\> -httpsport 443  

-   **-ignoreSHA256validation**  

     Необязательный параметр. Указывает, что установка клиента пропускает проверку SHA-256. Используйте этот параметр при установке клиента в операционных системах, которые не содержат версии OpenSSL, поддерживающей SHA-256. Дополнительные сведения см. в разделе [Сведения об операционных системах Linux и UNIX, не поддерживающих SHA-256](../../../core/clients/deploy/plan/planning-for-client-deployment-to-linux-and-unix-computers.md#BKMK_NoSHA-256).  

-   **-signcertpath &lt;расположение файла\>**  

     Необязательный параметр. Указывает полный путь и **.cer** имя файла экспортируемого самозаверяющего сертификата на сервере сайта. Если PKI-сертификаты недоступны, сервер сайта Configuration Manager автоматически создает самозаверяющие сертификаты.  

     Эти сертификаты используются для проверки того, что политики клиента, загружаются из точки управления, отправленных с нужным сайтом. Если самозаверяющий сертификат не указан во время установки или вам нужно изменить этот сертификат, используйте служебную программу **certutil** . Информацию о служебной программе certutil см. в разделе [Управление сертификатами на клиенте для Linux и UNIX](../../../core/clients/manage/manage-clients-for-linux-and-unix-servers.md#BKMK_ManageLinuxCerts).  

     Этот сертификат можно получить из хранилища сертификатов **SMS** , ему задано имя субъекта **Сервер сайта** и понятное имя **Сертификат подписи сервера сайта**.  

     Если этот параметр не указан во время установки, Linux и UNIX клиенты будут доверять первой точке управления они взаимодействуют и автоматически получать сертификат подписи из этой точки управления.  

     Пример: -signcertpath &lt;полный путь и имя файла\>  

-   **-rootcerts**  

     Необязательный параметр. Задает дополнительные сертификаты PKI для импорта, которые не являются частью управления точек иерархии центров сертификации (ЦС). Если указать несколько сертификатов в командной строке, они должны быть с разделителями-запятыми.  

     Используйте этот параметр, если вы используете PKI сертификатов клиентов, которые не связаны корневого центра сертификации, которому доверяют все точки управления на сайтах. Точки управления отклонят подключение клиента, если сертификат клиента не объединен в цепочку с доверенным корневым сертификатом в списке издателей сертификатов сайта.  

     Если этот параметр не используется, Linux и UNIX клиент будет проверять доверенной иерархии с помощью сертификата в **- UsePKICert** параметр.  

     Пример: -rootcerts &lt;полный путь и имя файла\>,&lt;полный путь и имя файла\>  

###  <a name="BKMK_UninstallLnUClient"></a> Удаление клиента из серверов UNIX и Linux  
 Чтобы удалить клиент Configuration Manager для Linux и UNIX, используйте служебную программу удаления **uninstall**. По умолчанию этот файл находится в **/opt/microsoft/configmgr/bin/** папки на клиентском компьютере. Эта команда удаления не поддерживает параметры командной строки и будут удалены все файлы, связанные с клиентского программного обеспечения с сервера.  

 Чтобы удалить клиент, используйте следующую командную строку: **/opt/microsoft/configmgr/bin/uninstall**  

 После удаления клиента Configuration Manager для Linux и UNIX перезагружать компьютер не требуется.  

##  <a name="BKMK_ConfigLnUClientCommuincations"></a> Настройка портов запроса для клиента для Linux и UNIX  
 Клиент Configuration Manager для Linux и UNIX, по аналогии с клиентами на основе Windows, использует протоколы HTTP и HTTPS для обмена данными с системами сайта Configuration Manager. Порты, которые клиент Configuration Manager использует для обмена данными, называются портами запросов.  

 При установке клиента Configuration Manager для Linux и UNIX вы можете изменить порты запросов клиента по умолчанию, указав свойства установки **-httpport** и **-httpsport**. При установке свойства и пользовательские значения не указаны, клиент использует значения по умолчанию. Значения по умолчанию, **80** для трафика HTTP и **443** для трафика HTTPS.  

 После установки клиента нельзя изменить конфигурацию порта запроса. Вместо этого для изменения конфигурации портов необходимо переустановить клиент и указать новую конфигурацию порта. При переустановке клиента, чтобы изменить номера портов запрос запуска **установки** команды аналогичен установки нового клиента, но использовать свойство командной строки **- keepdb**. Этот параметр указывает установки для сохранения клиентской базы данных и файлы, включая хранилище GUID и сертификатов клиентов.  

 Дополнительные сведения о номерах портов связи с клиентами см. в разделе [Настройка портов связи для клиентов в System Center Configuration Manager](../../../core/clients/deploy/configure-client-communication-ports.md).  

##  <a name="BKMK_ConfigClientMP"></a> Настройка клиента для Linux и UNIX, для поиска точек управления  
 При установке клиента Configuration Manager для Linux и UNIX необходимо указать точку управления, к которой клиент будет обращаться изначально.  

 Клиент Configuration Manager для Linux и UNIX обращается к этой точке управления во время своей установки. Если ему не удается связаться с точкой управления, клиентское программное обеспечение продолжает попытки до успешной установки соединения.  

 Дополнительные сведения об обнаружении точек управления клиентами см. в разделе [Поиск точек управления](/sccm/core/clients/deploy/assign-clients-to-a-site#locating-management-points).
