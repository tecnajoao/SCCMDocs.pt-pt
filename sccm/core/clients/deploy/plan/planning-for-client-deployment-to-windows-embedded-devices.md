---
title: "Планирование развертывания клиентов на устройствах Windows Embedded | Документы Майкрософт"
description: "Спланируйте развертывание клиентов на устройствах Windows Embedded в System Center Configuration Manager."
ms.custom: na
ms.date: 04/23/2017
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology: configmgr-client
ms.tgt_pltfrm: na
ms.topic: get-started-article
ms.assetid: 038e61f9-f49d-41d1-9a9f-87bec9e00d5d
caps.latest.revision: "7"
caps.handback.revision: "0"
author: robstackmsft
ms.author: robstack
manager: angrobe
ms.openlocfilehash: f7ef476a2ebcf0161ebb70d8a3d95f77806aa05e
ms.sourcegitcommit: 51fc48fb023f1e8d995c6c4eacfda7dbec4d0b2f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2017
---
# <a name="planning-for-client-deployment-to-windows-embedded-devices-in-system-center-configuration-manager"></a>Планирование развертывания клиентов на устройствах Windows Embedded в System Center Configuration Manager

*Применимо к: System Center Configuration Manager (Current Branch)*

<a name="BKMK_DeployClientEmbedded"></a> Если устройство Windows Embedded не содержит клиент System Center Configuration Manager, можно использовать любой способ установки клиента, если устройство соответствует требуемым зависимостям. Если встроенное устройство поддерживает фильтры записи, то эти фильтры необходимо отключить перед установкой клиента, а затем повторно включить после завершения установки клиента и назначения ему сайта.  

 Обратите внимание, что при отключении фильтров не следует отключать драйверы фильтра. Обычно эти драйверы запускаются автоматически при запуске компьютера. Отключение драйверов не позволит установить клиент или помешает управлению фильтром записи, что приведет к сбою клиентских операций. Ниже приведены службы, связанные с каждым типом фильтра записи, который должен работать.  

|Тип фильтра записи|Драйвер|Тип|Описание|  
|-----------------------|------------|----------|-----------------|  
|EWF|EWF|Ядро|Реализует перенаправление ввода-вывода на уровне секторов на защищенных томах.|  
|FBWF|FBWF|Файловая система|Реализует перенаправление ввода-вывода на уровне файлов на защищенных томах.|  
|UWF|uwfreg|Ядро|Перенаправитель реестра UWF|  
|UWF|uwfs|Файловая система|Перенаправитель файлов UWF|  
|UWF|uwfvol|Ядро|Диспетчер томов UWF|  

 Фильтры записи регулируют процедуру обновления операционной системы на встроенном устройстве при внесении вами изменений, например, при установке программного обеспечения. Когда фильтры записи включены, вместо внесения изменений напрямую в операционную систему они перенаправляются на временный оверлей. Если запись изменений производится только в оверлей, то они теряются при отключении встроенного устройства. Однако в случае постоянного отключения фильтров записи эти изменения могут стать постоянными, благодаря чему вам не придется снова вносить аналогичные изменения (или повторно устанавливать ПО) при каждом перезапуске встроенного устройства. Однако временное отключение и повторное включение фильтров записи требует одного или нескольких перезапусков, поэтому управление данными процедурами обычно производится с помощью окон обслуживания, чтобы перезапуски выполнялись в нерабочее время.  

 Вы можете настроить параметры для автоматического отключения и повторного включения фильтров записи при развертывании такого ПО, как приложения, последовательности задач, обновление ПО и клиент Endpoint Protection. Исключение делается только для шаблонов конфигурации, которые содержат элементы конфигурации, использующие автоматическое исправление. В этом сценарии исправление всегда происходит внутри оверлея, поэтому его результаты доступны только до момента перезапуска устройства. В ходе следующего цикла оценки это исправление применяется заново, но только к оверлею, который очищается при перезапуске. Чтобы принудить Configuration Manager к фиксации изменений, которые предусматривает исправление, можно развернуть конфигурационную базу и сразу же после этого развернуть еще одно программное приложение, поддерживающее фиксацию изменения.  

 Если фильтры записи отключены, можно устанавливать программное обеспечение на устройства Windows Embedded с помощью Software Center. Однако если фильтры записи включены, то установка завершится сбоем и Configuration Manager выведет сообщение об ошибке, связанной с отсутствием у пользователя достаточных разрешений для установки приложения.  

> [!WARNING]  
>  Даже если не выбирать в Configuration Manager параметры, предназначенные для фиксации изменений, эти изменения могут быть зафиксированы в ходе установки другого программного обеспечения или фиксации других изменений. В этом сценарии исходные изменения будут применены в дополнение к новым изменениям.  

 Когда Configuration Manager отключает фильтры записи для внесения постоянных изменений, войти на встроенное устройство и использовать его смогут только пользователи с правами локального администратора. В течение этого периода пользователи с более низкими правами не имеют доступа к устройству, для них отображается сообщение о недоступности устройства по причине технического обслуживания. Это помогает защитить устройство, находящееся в состоянии, которое допускает применение постоянных изменений. Данный режим блокировки во время технического обслуживания является еще одной причиной, почему следует настроить для окна обслуживания такое время запуска, когда пользователи не выполняют вход на эти устройства.  

 Configuration Manager поддерживает управление перечисленными ниже типами фильтров записи.  

-   Файловый фильтр записи (FBWF): дополнительные сведения см. в разделе [Файловый фильтр записи](http://go.microsoft.com/fwlink/?LinkID=204717).  

-   Расширенный фильтр записи (EWF): дополнительные сведения см. в разделе [Расширенный фильтр записи](http://go.microsoft.com/fwlink/?LinkId=204718).  

-   Объединенный фильтр записи (UWF): дополнительные сведения см. в разделе [Объединенный фильтр записи](http://go.microsoft.com/fwlink/?LinkId=309236).  

 Configuration Manager не поддерживает операции с фильтрами записи, когда устройство Windows Embedded находится в режиме EWF RAM Reg.  

> [!IMPORTANT]  
>  Если у вас есть выбор, то для повышения эффективности и масштабируемости используйте файловые фильтры записи с Configuration Manager.
>
> **Для устройств, использующих только FBWF**: настройте следующие исключения, чтобы состояние клиента и данные инвентаризации сохранялись между перезапусками устройства:  
>   
>  -   CCMINSTALLDIR\\*.sdf  
> -   CCMINSTALLDIR\ServiceData  
> -   HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\CCM\StateSystem  
>   
>  Устройства под управлением Windows Embedded 8.0 и более поздних версий не поддерживают исключения, которые содержат подстановочные знаки. На этих устройствах необходимо по отдельности настроить следующие исключения.  
>   
>  -   Все файлы в CCMINSTALLDIR с расширением SDF, обычно это следующие файлы:  
>   
>     -   UserAffinityStore.sdf;  
>     -   InventoryStore.sdf;  
>     -   CcmStore.sdf;  
>     -   StateMessageStore.sdf;  
>     -   CertEnrollmentStore.sdf.  
> -   CCMINSTALLDIR\ServiceData  
> -   HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\CCM\StateSystem  
>   
> **Для устройств, которые используют только FBWF и UWF**: когда клиенты в рабочей группе используют сертификаты для проверки подлинности точек управления, необходимо также исключить закрытый ключ, чтобы обеспечить дальнейшее взаимодействие клиента с точкой управления. На этих устройствах настройте следующие исключения.  
>   
>  -   c:\Windows\System32\Microsoft\Protect  
> -   c:\ProgramData\Microsoft\Crypto  
> -   HKEY_LOCAL_MACHINE\Software\Microsoft\SystemCertificates\SMS\Certificates  

 Пример сценария развертывания устройств Windows Embedded с поддержкой фильтров записи и управления ими в Configuration Manager см. в разделе [Пример сценария развертывания клиентов System Center Configuration Manager и управления ими на устройствах Windows Embedded](../../../../core/clients/deploy/example-scenario-for-deploying-and-managing-clients-on-windows-embedded-devices.md).  

 Дополнительные сведения о создании образов для устройств Windows Embedded и о настройке фильтров записи см. в документации к Windows Embedded или свяжитесь с вашим сборщиком систем.  

> [!NOTE]  
>  При выборе подходящих платформ для развертывания программного обеспечения и элементов конфигурации вместо конкретных версий ОС Windows Embedded отображаются их семейства. Воспользуйтесь следующим списком для сопоставления конкретной версии Windows Embedded с параметрами в окне списка.  
>   
>  -   **В число встраиваемых ОС на базе Windows XP (32-разрядная версия)** входят следующие операционные системы:  
>   
>      -   Windows XP Embedded  
>     -   Windows Embedded для Point of Service  
>     -   Windows Embedded Standard 2009  
>     -   Windows Embedded POSReady 2009.  
> -   **В число встраиваемых ОС на базе Windows 7 (32-разрядная версия)** входят следующие операционные системы:  
>   
>      -   Windows Embedded Стандартная 7 (32-разрядная версия)  
>     -   Windows Embedded POSReady 7 (32-разрядная версия)  
>     -   Windows ThinPC  
> -   **В число встраиваемых ОС на базе Windows 7 (64-разрядная версия)** входят следующие операционные системы  
>   
>      -   Windows Embedded Стандартная 7 (64-разрядная версия)  
>     -   Windows Embedded POSReady 7 (64-разрядная версия)
